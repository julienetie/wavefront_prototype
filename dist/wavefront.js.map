{"version":3,"file":"wavefront.js","sources":["../libs/vnode.js","../libs/is-plane-object.js","../node_modules/snabbdom/src/vnode.ts","../node_modules/snabbdom/src/is.ts","../node_modules/snabbdom/src/htmldomapi.ts","../node_modules/snabbdom/src/h.ts","../node_modules/snabbdom/src/thunk.ts","../node_modules/snabbdom/src/snabbdom.ts","../node_modules/snabbdom/src/modules/class.ts","../node_modules/snabbdom/src/modules/dataset.ts","../src/attributes.js","../src/props.js","../node_modules/snabbdom/src/modules/hero.ts","../node_modules/snabbdom/src/modules/style.ts","../libs/eventlisteners.js","../src/index.js"],"sourcesContent":["\"use strict\";\nfunction vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexport default vnode;\n","/**\n * @license\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash include=\"isPlainObject\" -o isPlainObject.js`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n// ;(function() {\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.16.4';\n\n  /** `Object#toString` result references. */\n  var objectTag = '[object Object]';\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /** Used for built-in method references. */\n  var funcProto = Function.prototype,\n      objectProto = Object.prototype;\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to infer the `Object` constructor. */\n  var objectCtorString = funcToString.call(Object);\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString = objectProto.toString;\n\n  /** Built-in value references. */\n  var Symbol = root.Symbol,\n      getPrototype = overArg(Object.getPrototypeOf, Object);\n\n  /** Used to lookup unminified function names. */\n  var realNames = {};\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps `value` to enable implicit method\n   * chain sequences. Methods that operate on and return arrays, collections,\n   * and functions can be chained together. Methods that retrieve a single value\n   * or may return a primitive value will automatically end the chain sequence\n   * and return the unwrapped value. Otherwise, the value must be unwrapped\n   * with `_#value`.\n   *\n   * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n   * enabled using `_.chain`.\n   *\n   * The execution of chained methods is lazy, that is, it's deferred until\n   * `_#value` is implicitly or explicitly called.\n   *\n   * Lazy evaluation allows several methods to support shortcut fusion.\n   * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n   * the creation of intermediate arrays and can greatly reduce the number of\n   * iteratee executions. Sections of a chain sequence qualify for shortcut\n   * fusion if the section is applied to an array of at least `200` elements\n   * and any iteratees accept only one argument. The heuristic for whether a\n   * section qualifies for shortcut fusion is subject to change.\n   *\n   * Chaining is supported in custom builds as long as the `_#value` method is\n   * directly or indirectly included in the build.\n   *\n   * In addition to lodash methods, wrappers have `Array` and `String` methods.\n   *\n   * The wrapper `Array` methods are:\n   * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n   *\n   * The wrapper `String` methods are:\n   * `replace` and `split`\n   *\n   * The wrapper methods that support shortcut fusion are:\n   * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n   * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n   * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n   *\n   * The chainable wrapper methods are:\n   * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n   * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n   * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n   * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n   * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n   * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n   * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n   * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n   * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n   * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n   * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n   * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n   * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n   * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n   * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n   * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n   * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n   * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n   * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n   * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n   * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n   * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n   * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n   * `zipObject`, `zipObjectDeep`, and `zipWith`\n   *\n   * The wrapper methods that are **not** chainable by default are:\n   * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n   * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n   * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n   * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n   * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n   * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n   * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n   * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n   * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n   * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n   * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n   * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n   * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n   * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n   * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n   * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n   * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n   * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n   * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n   * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n   * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n   * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n   * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n   * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n   * `upperFirst`, `value`, and `words`\n   *\n   * @name _\n   * @constructor\n   * @category Seq\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns the new `lodash` wrapper instance.\n   * @example\n   *\n   * function square(n) {\n   *   return n * n;\n   * }\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // Returns an unwrapped value.\n   * wrapped.reduce(_.add);\n   * // => 6\n   *\n   * // Returns a wrapped value.\n   * var squares = wrapped.map(square);\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash() {\n    // No operation performed.\n  }\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return value != null && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is a plain object, that is, an object created by the\n   * `Object` constructor or one with a `[[Prototype]]` of `null`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.8.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   * }\n   *\n   * _.isPlainObject(new Foo);\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'x': 0, 'y': 0 });\n   * // => true\n   *\n   * _.isPlainObject(Object.create(null));\n   * // => true\n   */\n  export default function isPlainObject(value) {\n    if (!isObjectLike(value) || objectToString.call(value) != objectTag) {\n      return false;\n    }\n    var proto = getPrototype(value);\n    if (proto === null) {\n      return true;\n    }\n    var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return (typeof Ctor == 'function' &&\n      Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n  }\n\n  /*------------------------------------------------------------------------*/\n\n  // Add methods that return unwrapped values in chain sequences.\n  lodash.isObjectLike = isObjectLike;\n  lodash.isPlainObject = isPlainObject;\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type {string}\n   */\n  lodash.VERSION = VERSION;\n\n  /*--------------------------------------------------------------------------*/\n\n//   // Some AMD build optimizers, like r.js, check for condition patterns like:\n//   if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n//     // Expose Lodash on the global object to prevent errors when Lodash is\n//     // loaded by a script tag in the presence of an AMD loader.\n//     // See http://requirejs.org/docs/errors.html#mismatch for more details.\n//     // Use `_.noConflict` to remove Lodash from the global object.\n//     root._ = lodash;\n\n//     // Define as an anonymous module so, through path mapping, it can be\n//     // referenced as the \"underscore\" module.\n//     define(function() {\n//       return lodash;\n//     });\n//   }\n//   // Check for `exports` after `define` in case a build optimizer adds it.\n//   else if (freeModule) {\n//     // Export for Node.js.\n//     (freeModule.exports = lodash)._ = lodash;\n//     // Export for CommonJS support.\n//     freeExports._ = lodash;\n//   }\n//   else {\n//     // Export to the global object.\n//     root._ = lodash;\n//   }\n// }.call(this));\n","import {Hooks} from './hooks';\nimport {AttachData} from './helpers/attachto'\nimport {VNodeStyle} from './modules/style'\nimport {On} from './modules/eventlisteners'\nimport {Attrs} from './modules/attributes'\nimport {Classes} from './modules/class'\nimport {Props} from './modules/props'\nimport {Dataset} from './modules/dataset'\nimport {Hero} from './modules/hero'\n\nexport type Key = string | number;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  hero?: Hero;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: Array<any>; // for thunks\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(sel: string | undefined,\n                      data: any | undefined,\n                      children: Array<VNode | string> | undefined,\n                      text: string | undefined,\n                      elm: Element | Text | undefined): VNode {\n  let key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n}\n\nexport default vnode;\n","export const array = Array.isArray;\nexport function primitive(s: any): s is (string | number) {\n  return typeof s === 'string' || typeof s === 'number';\n}\n","export interface DOMAPI {\n  createElement: (tagName: any) => HTMLElement;\n  createElementNS: (namespaceURI: string, qualifiedName: string) => Element;\n  createTextNode: (text: string) => Text;\n  createComment: (text: string) => Comment;\n  insertBefore: (parentNode: Node, newNode: Node, referenceNode: Node | null) => void;\n  removeChild: (node: Node, child: Node) => void;\n  appendChild: (node: Node, child: Node) => void;\n  parentNode: (node: Node) => Node;\n  nextSibling: (node: Node) => Node;\n  tagName: (elm: Element) => string;\n  setTextContent: (node: Node, text: string | null) => void;\n  getTextContent: (node: Node) => string | null;\n  isElement: (node: Node) => node is Element;\n  isText: (node: Node) => node is Text;\n  isComment: (node: Node) => node is Comment;\n}\n\nfunction createElement(tagName: any): HTMLElement {\n  return document.createElement(tagName);\n}\n\nfunction createElementNS(namespaceURI: string, qualifiedName: string): Element {\n  return document.createElementNS(namespaceURI, qualifiedName);\n}\n\nfunction createTextNode(text: string): Text {\n  return document.createTextNode(text);\n}\n\nfunction createComment(text: string): Comment {\n  return document.createComment(text);\n}\n\nfunction insertBefore(parentNode: Node, newNode: Node, referenceNode: Node | null): void {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild(node: Node, child: Node): void {\n  node.removeChild(child);\n}\n\nfunction appendChild(node: Node, child: Node): void {\n  node.appendChild(child);\n}\n\nfunction parentNode(node: Node): Node | null {\n  return node.parentNode;\n}\n\nfunction nextSibling(node: Node): Node | null {\n  return node.nextSibling;\n}\n\nfunction tagName(elm: Element): string {\n  return elm.tagName;\n}\n\nfunction setTextContent(node: Node, text: string | null): void {\n  node.textContent = text;\n}\n\nfunction getTextContent(node: Node): string | null {\n  return node.textContent;\n}\n\nfunction isElement(node: Node): node is Element {\n  return node.nodeType === 1;\n}\n\nfunction isText(node: Node): node is Text {\n  return node.nodeType === 3;\n}\n\nfunction isComment(node: Node): node is Comment {\n  return node.nodeType === 8;\n}\n\nexport const htmlDomApi = {\n  createElement,\n  createElementNS,\n  createTextNode,\n  createComment,\n  insertBefore,\n  removeChild,\n  appendChild,\n  parentNode,\n  nextSibling,\n  tagName,\n  setTextContent,\n  getTextContent,\n  isElement,\n  isText,\n  isComment,\n} as DOMAPI;\n\nexport default htmlDomApi;\n","import {vnode, VNode, VNodeData} from './vnode';\nimport * as is from './is';\n\nfunction addNS(data: any, children: Array<VNode> | undefined, sel: string | undefined): void {\n  data.ns = 'http://www.w3.org/2000/svg';\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      let childData = children[i].data;\n      if (childData !== undefined) {\n        addNS(childData, (children[i] as VNode).children as Array<VNode>, children[i].sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData): VNode;\nexport function h(sel: string, text: string): VNode;\nexport function h(sel: string, children: Array<VNode | undefined | null>): VNode;\nexport function h(sel: string, data: VNodeData, text: string): VNode;\nexport function h(sel: string, data: VNodeData, children: Array<VNode | undefined | null>): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  var data: VNodeData = {}, children: any, text: any, i: number;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n    else if (c && c.sel) { children = [c]; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else if (b && b.sel) { children = [b]; }\n    else { data = b; }\n  }\n  if (is.array(children)) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = (vnode as any)(undefined, undefined, undefined, children[i]);\n    }\n  }\n  if (\n    sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n    (sel.length === 3 || sel[3] === '.' || sel[3] === '#')\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n};\nexport default h;\n","import {VNode, VNodeData} from './vnode';\nimport {h} from './h';\n\nexport interface ThunkData extends VNodeData {\n  fn: () => VNode;\n  args: Array<any>;\n}\n\nexport interface Thunk extends VNode {\n  data: ThunkData;\n}\n\nexport interface ThunkFn {\n  (sel: string, fn: Function, args: Array<any>): Thunk;\n  (sel: string, key: any, fn: Function, args: Array<any>): Thunk;\n}\n\nfunction copyToThunk(vnode: VNode, thunk: VNode): void {\n  thunk.elm = vnode.elm;\n  (vnode.data as VNodeData).fn = (thunk.data as VNodeData).fn;\n  (vnode.data as VNodeData).args = (thunk.data as VNodeData).args;\n  thunk.data = vnode.data;\n  thunk.children = vnode.children;\n  thunk.text = vnode.text;\n  thunk.elm = vnode.elm;\n}\n\nfunction init(thunk: VNode): void {\n  const cur = thunk.data as VNodeData;\n  const vnode = (cur.fn as any).apply(undefined, cur.args);\n  copyToThunk(vnode, thunk);\n}\n\nfunction prepatch(oldVnode: VNode, thunk: VNode): void {\n  let i: number, old = oldVnode.data as VNodeData, cur = thunk.data as VNodeData;\n  const oldArgs = old.args, args = cur.args;\n  if (old.fn !== cur.fn || (oldArgs as any).length !== (args as any).length) {\n    copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n    return;\n  }\n  for (i = 0; i < (args as any).length; ++i) {\n    if ((oldArgs as any)[i] !== (args as any)[i]) {\n      copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n      return;\n    }\n  }\n  copyToThunk(oldVnode, thunk);\n}\n\nexport const thunk = function thunk(sel: string, key?: any, fn?: any, args?: any): VNode {\n  if (args === undefined) {\n    args = fn;\n    fn = key;\n    key = undefined;\n  }\n  return h(sel, {\n    key: key,\n    hook: {init: init, prepatch: prepatch},\n    fn: fn,\n    args: args\n  });\n} as ThunkFn;\n\nexport default thunk;","/* global module, document, Node */\nimport {Module} from './modules/module';\nimport {Hooks} from './hooks';\nimport vnode, {VNode, VNodeData, Key} from './vnode';\nimport * as is from './is';\nimport htmlDomApi, {DOMAPI} from './htmldomapi';\n\nfunction isUndef(s: any): boolean { return s === undefined; }\nfunction isDef(s: any): boolean { return s !== undefined; }\n\ntype VNodeQueue = Array<VNode>;\n\nconst emptyNode = vnode('', {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1: VNode, vnode2: VNode): boolean {\n  return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\n\nfunction isVnode(vnode: any): vnode is VNode {\n  return vnode.sel !== undefined;\n}\n\ntype KeyToIndexMap = {[key: string]: number};\n\ntype ArraysOf<T> = {\n  [K in keyof T]: (T[K])[];\n}\n\ntype ModuleHooks = ArraysOf<Module>;\n\nfunction createKeyToOldIdx(children: Array<VNode>, beginIdx: number, endIdx: number): KeyToIndexMap {\n  let i: number, map: KeyToIndexMap = {}, key: Key, ch;\n  for (i = beginIdx; i <= endIdx; ++i) {\n    ch = children[i];\n    if (ch != null) {\n      key = ch.key;\n      if (key !== undefined) map[key] = i;\n    }\n  }\n  return map;\n}\n\nconst hooks: (keyof Module)[] = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\nexport {h} from './h';\nexport {thunk} from './thunk';\n\nexport function init(modules: Array<Partial<Module>>, domApi?: DOMAPI) {\n  let i: number, j: number, cbs = ({} as ModuleHooks);\n\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      const hook = modules[j][hooks[i]];\n      if (hook !== undefined) {\n        (cbs[hooks[i]] as Array<any>).push(hook);\n      }\n    }\n  }\n\n  function emptyNodeAt(elm: Element) {\n    const id = elm.id ? '#' + elm.id : '';\n    const c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n    return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n  }\n\n  function createRmCb(childElm: Node, listeners: number) {\n    return function rmCb() {\n      if (--listeners === 0) {\n        const parent = api.parentNode(childElm);\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode: VNode, insertedVnodeQueue: VNodeQueue): Node {\n    let i: any, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) {\n        i(vnode);\n        data = vnode.data;\n      }\n    }\n    let children = vnode.children, sel = vnode.sel;\n    if (sel === '!') {\n      if (isUndef(vnode.text)) {\n        vnode.text = '';\n      }\n      vnode.elm = api.createComment(vnode.text as string);\n    } else if (sel !== undefined) {\n      // Parse selector\n      const hashIdx = sel.indexOf('#');\n      const dotIdx = sel.indexOf('.', hashIdx);\n      const hash = hashIdx > 0 ? hashIdx : sel.length;\n      const dot = dotIdx > 0 ? dotIdx : sel.length;\n      const tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n      const elm = vnode.elm = isDef(data) && isDef(i = (data as VNodeData).ns) ? api.createElementNS(i, tag)\n                                                                               : api.createElement(tag);\n      if (hash < dot) elm.setAttribute('id', sel.slice(hash + 1, dot));\n      if (dotIdx > 0) elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          const ch = children[i];\n          if (ch != null) {\n            api.appendChild(elm, createElm(ch as VNode, insertedVnodeQueue));\n          }\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      i = (vnode.data as VNodeData).hook; // Reuse variable\n      if (isDef(i)) {\n        if (i.create) i.create(emptyNode, vnode);\n        if (i.insert) insertedVnodeQueue.push(vnode);\n      }\n    } else {\n      vnode.elm = api.createTextNode(vnode.text as string);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(parentElm: Node,\n                     before: Node | null,\n                     vnodes: Array<VNode>,\n                     startIdx: number,\n                     endIdx: number,\n                     insertedVnodeQueue: VNodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode: VNode) {\n    let i: any, j: number, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (vnode.children !== undefined) {\n        for (j = 0; j < vnode.children.length; ++j) {\n          i = vnode.children[j];\n          if (i != null && typeof i !== \"string\") {\n            invokeDestroyHook(i);\n          }\n        }\n      }\n    }\n  }\n\n  function removeVnodes(parentElm: Node,\n                        vnodes: Array<VNode>,\n                        startIdx: number,\n                        endIdx: number): void {\n    for (; startIdx <= endIdx; ++startIdx) {\n      let i: any, listeners: number, rm: () => void, ch = vnodes[startIdx];\n      if (ch != null) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm as Node, listeners);\n          for (i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          if (isDef(i = ch.data) && isDef(i = i.hook) && isDef(i = i.remove)) {\n            i(ch, rm);\n          } else {\n            rm();\n          }\n        } else { // Text node\n          api.removeChild(parentElm, ch.elm as Node);\n        }\n      }\n    }\n  }\n\n  function updateChildren(parentElm: Node,\n                          oldCh: Array<VNode>,\n                          newCh: Array<VNode>,\n                          insertedVnodeQueue: VNodeQueue) {\n    let oldStartIdx = 0, newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx: any;\n    let idxInOld: number;\n    let elmToMove: VNode;\n    let before: any;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (oldStartVnode == null) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n      } else if (oldEndVnode == null) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (newStartVnode == null) {\n        newStartVnode = newCh[++newStartIdx];\n      } else if (newEndVnode == null) {\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldStartVnode.elm as Node, api.nextSibling(oldEndVnode.elm as Node));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm as Node, oldStartVnode.elm as Node);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (oldKeyToIdx === undefined) {\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        }\n        idxInOld = oldKeyToIdx[newStartVnode.key as string];\n        if (isUndef(idxInOld)) { // New element\n          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          elmToMove = oldCh[idxInOld];\n          if (elmToMove.sel !== newStartVnode.sel) {\n            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, (elmToMove.elm as Node), oldStartVnode.elm as Node);\n          }\n          newStartVnode = newCh[++newStartIdx];\n        }\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      before = newCh[newEndIdx+1] == null ? null : newCh[newEndIdx+1].elm;\n      addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function patchVnode(oldVnode: VNode, vnode: VNode, insertedVnodeQueue: VNodeQueue) {\n    let i: any, hook: any;\n    if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode);\n    }\n    const elm = vnode.elm = (oldVnode.elm as Node);\n    let oldCh = oldVnode.children;\n    let ch = vnode.children;\n    if (oldVnode === vnode) return;\n    if (vnode.data !== undefined) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);\n      i = vnode.data.hook;\n      if (isDef(i) && isDef(i = i.update)) i(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh as Array<VNode>, ch as Array<VNode>, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, '');\n        addVnodes(elm, null, ch as Array<VNode>, 0, (ch as Array<VNode>).length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      api.setTextContent(elm, vnode.text as string);\n    }\n    if (isDef(hook) && isDef(i = hook.postpatch)) {\n      i(oldVnode, vnode);\n    }\n  }\n\n  return function patch(oldVnode: VNode | Element, vnode: VNode): VNode {\n    let i: number, elm: Node, parent: Node;\n    const insertedVnodeQueue: VNodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (!isVnode(oldVnode)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm as Node;\n      parent = api.parentNode(elm);\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm as Node, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      (((insertedVnodeQueue[i].data as VNodeData).hook as Hooks).insert as any)(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Classes = Record<string, boolean>\n\nfunction updateClass(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm: Element = vnode.elm as Element,\n      oldClass = (oldVnode.data as VNodeData).class,\n      klass = (vnode.data as VNodeData).class;\n\n  if (!oldClass && !klass) return;\n  if (oldClass === klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      (elm.classList as any)[cur ? 'add' : 'remove'](name);\n    }\n  }\n}\n\nexport const classModule = {create: updateClass, update: updateClass} as Module;\nexport default classModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Dataset = Record<string, string>;\n\nconst CAPS_REGEX = /[A-Z]/g;\n\nfunction updateDataset(oldVnode: VNode, vnode: VNode): void {\n  let elm: HTMLElement = vnode.elm as HTMLElement,\n    oldDataset = (oldVnode.data as VNodeData).dataset,\n    dataset = (vnode.data as VNodeData).dataset,\n    key: string;\n\n  if (!oldDataset && !dataset) return;\n  if (oldDataset === dataset) return;\n  oldDataset = oldDataset || {};\n  dataset = dataset || {};\n  const d = elm.dataset;\n\n  for (key in oldDataset) {\n    if (!dataset[key]) {\n      if (d) {\n        delete d[key];\n      } else {\n        elm.removeAttribute('data-' + key.replace(CAPS_REGEX, '-$&').toLowerCase());\n      }\n    }\n  }\n  for (key in dataset) {\n    if (oldDataset[key] !== dataset[key]) {\n      if (d) {\n        d[key] = dataset[key];\n      } else {\n        elm.setAttribute('data-' + key.replace(CAPS_REGEX, '-$&').toLowerCase(), dataset[key]);\n      }\n    }\n  }\n}\n\nexport const datasetModule = {create: updateDataset, update: updateDataset} as Module;\nexport default datasetModule;","const booleanAttrs = [\n    \"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"compact\", \"controls\", \"declare\",\n    \"default\", \"defaultchecked\", \"defaultmuted\", \"defaultselected\", \"defer\", \"disabled\", \"draggable\",\n    \"enabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"itemscope\", \"loop\", \"multiple\",\n    \"muted\", \"nohref\", \"noresize\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"pauseonexit\", \"readonly\",\n    \"required\", \"reversed\", \"scoped\", \"seamless\", \"selected\", \"sortable\", \"spellcheck\", \"translate\",\n    \"truespeed\", \"typemustmatch\", \"visible\"\n];\n\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace';\nconst colonChar = 58;\nconst xChar = 120;\nconst booleanAttrsDict = Object.create(null);\n\nfor (let i = 0, len = booleanAttrs.length; i < len; i++) {\n    booleanAttrsDict[booleanAttrs[i]] = true;\n}\n\nfunction updateAttrs(oldVnode, vnode) {\n    let key;\n    let elm = vnode.elm;\n    let oldAttrs = oldVnode.data.attrs;\n    let attrs = vnode.data.attrs;\n    if ((!oldAttrs && !attrs) || (oldAttrs === attrs)) {\n        return;\n    }\n\n    oldAttrs = oldAttrs || {};\n\n    attrs = attrs || {};\n\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        let cur = attrs[key];\n        let old = oldAttrs[key];\n\n        if (old !== cur) {\n            if (booleanAttrsDict[key]) {\n                if (cur) {\n                    elm.setAttribute(key, '');\n                } else {\n                    elm.removeAttribute(key);\n                }\n            } else {\n                if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                } else if (key.charCodeAt(3) === colonChar) {\n                    // Assume xml namespace\n                    elm.setAttributeNS(xmlNS, key, cur);\n                } else if (key.charCodeAt(5) === colonChar) {\n                    // Assume xlink namespace\n                    elm.setAttributeNS(xlinkNS, key, cur);\n                } else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    // remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexport default { create: updateAttrs, update: updateAttrs };\n","function updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexport default { create: updateProps, update: updateProps };\n\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Hero = { id: string }\n\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function(fn: any) { raf(function() { raf(fn); }); };\n\nfunction setNextFrame(obj: any, prop: string, val: any): void {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction getTextNodeRect(textNode: Text): ClientRect | undefined {\n  var rect: ClientRect | undefined;\n  if (document.createRange) {\n    var range = document.createRange();\n    range.selectNodeContents(textNode);\n    if (range.getBoundingClientRect) {\n        rect = range.getBoundingClientRect();\n    }\n  }\n  return rect;\n}\n\nfunction calcTransformOrigin(isTextNode: boolean,\n                             textRect: ClientRect | undefined,\n                             boundingRect: ClientRect): string {\n  if (isTextNode) {\n    if (textRect) {\n      //calculate pixels to center of text from left edge of bounding box\n      var relativeCenterX = textRect.left + textRect.width/2 - boundingRect.left;\n      var relativeCenterY = textRect.top + textRect.height/2 - boundingRect.top;\n      return relativeCenterX + 'px ' + relativeCenterY + 'px';\n    }\n  }\n  return '0 0'; //top left\n}\n\nfunction getTextDx(oldTextRect: ClientRect | undefined,\n                   newTextRect: ClientRect | undefined): number {\n  if (oldTextRect && newTextRect) {\n    return ((oldTextRect.left + oldTextRect.width/2) - (newTextRect.left + newTextRect.width/2));\n  }\n  return 0;\n}\nfunction getTextDy(oldTextRect: ClientRect | undefined,\n                   newTextRect: ClientRect | undefined): number {\n  if (oldTextRect && newTextRect) {\n    return ((oldTextRect.top + oldTextRect.height/2) - (newTextRect.top + newTextRect.height/2));\n  }\n  return 0;\n}\n\nfunction isTextElement(elm: Element | Text): elm is Text {\n  return elm.childNodes.length === 1 && elm.childNodes[0].nodeType === 3;\n}\n\nvar removed: any, created: any;\n\nfunction pre() {\n  removed = {};\n  created = [];\n}\n\nfunction create(oldVnode: VNode, vnode: VNode): void {\n  var hero = (vnode.data as VNodeData).hero;\n  if (hero && hero.id) {\n    created.push(hero.id);\n    created.push(vnode);\n  }\n}\n\nfunction destroy(vnode: VNode): void {\n  var hero = (vnode.data as VNodeData).hero;\n  if (hero && hero.id) {\n    var elm = vnode.elm;\n    (vnode as any).isTextNode = isTextElement(elm as Element | Text); //is this a text node?\n    (vnode as any).boundingRect = (elm as Element).getBoundingClientRect(); //save the bounding rectangle to a new property on the vnode\n    (vnode as any).textRect = (vnode as any).isTextNode ? getTextNodeRect((elm as Element).childNodes[0] as Text) : null; //save bounding rect of inner text node\n    var computedStyle = window.getComputedStyle(elm as Element, void 0); //get current styles (includes inherited properties)\n    (vnode as any).savedStyle = JSON.parse(JSON.stringify(computedStyle)); //save a copy of computed style values\n    removed[hero.id] = vnode;\n  }\n}\n\nfunction post() {\n  var i: number, id: any, newElm: Element, oldVnode: VNode, oldElm: Element,\n      hRatio: number, wRatio: number,\n      oldRect: ClientRect, newRect: ClientRect, dx: number, dy: number,\n      origTransform: string | null, origTransition: string | null,\n      newStyle: CSSStyleDeclaration, oldStyle: CSSStyleDeclaration,\n      newComputedStyle: CSSStyleDeclaration, isTextNode: boolean,\n      newTextRect: ClientRect | undefined, oldTextRect: ClientRect | undefined;\n  for (i = 0; i < created.length; i += 2) {\n    id = created[i];\n    newElm = created[i+1].elm;\n    oldVnode = removed[id];\n    if (oldVnode) {\n      isTextNode = (oldVnode as any).isTextNode && isTextElement(newElm); //Are old & new both text?\n      newStyle = (newElm as HTMLElement).style;\n      newComputedStyle = window.getComputedStyle(newElm, void 0); //get full computed style for new element\n      oldElm = oldVnode.elm as Element;\n      oldStyle = (oldElm as HTMLElement).style;\n      //Overall element bounding boxes\n      newRect = newElm.getBoundingClientRect();\n      oldRect = (oldVnode as any).boundingRect; //previously saved bounding rect\n      //Text node bounding boxes & distances\n      if (isTextNode) {\n        newTextRect = getTextNodeRect(newElm.childNodes[0] as Text);\n        oldTextRect = (oldVnode as any).textRect;\n        dx = getTextDx(oldTextRect, newTextRect);\n        dy = getTextDy(oldTextRect, newTextRect);\n      } else {\n        //Calculate distances between old & new positions\n        dx = oldRect.left - newRect.left;\n        dy = oldRect.top - newRect.top;\n      }\n      hRatio = newRect.height / (Math.max(oldRect.height, 1));\n      wRatio = isTextNode ? hRatio : newRect.width / (Math.max(oldRect.width, 1)); //text scales based on hRatio\n      // Animate new element\n      origTransform = newStyle.transform;\n      origTransition = newStyle.transition;\n      if (newComputedStyle.display === 'inline') //inline elements cannot be transformed\n        newStyle.display = 'inline-block';        //this does not appear to have any negative side effects\n      newStyle.transition = origTransition + 'transform 0s';\n      newStyle.transformOrigin = calcTransformOrigin(isTextNode, newTextRect, newRect);\n      newStyle.opacity = '0';\n      newStyle.transform = origTransform + 'translate('+dx+'px, '+dy+'px) ' +\n                               'scale('+1/wRatio+', '+1/hRatio+')';\n      setNextFrame(newStyle, 'transition', origTransition);\n      setNextFrame(newStyle, 'transform', origTransform);\n      setNextFrame(newStyle, 'opacity', '1');\n      // Animate old element\n      for (var key in (oldVnode as any).savedStyle) { //re-apply saved inherited properties\n        if (parseInt(key) != key as any as number) {\n          var ms = key.substring(0,2) === 'ms';\n          var moz = key.substring(0,3) === 'moz';\n          var webkit = key.substring(0,6) === 'webkit';\n          if (!ms && !moz && !webkit) //ignore prefixed style properties\n            (oldStyle as any)[key] = (oldVnode as any).savedStyle[key];\n        }\n      }\n      oldStyle.position = 'absolute';\n      oldStyle.top = oldRect.top + 'px'; //start at existing position\n      oldStyle.left = oldRect.left + 'px';\n      oldStyle.width = oldRect.width + 'px'; //Needed for elements who were sized relative to their parents\n      oldStyle.height = oldRect.height + 'px'; //Needed for elements who were sized relative to their parents\n      oldStyle.margin = '0'; //Margin on hero element leads to incorrect positioning\n      oldStyle.transformOrigin = calcTransformOrigin(isTextNode, oldTextRect, oldRect);\n      oldStyle.transform = '';\n      oldStyle.opacity = '1';\n      document.body.appendChild(oldElm);\n      setNextFrame(oldStyle, 'transform', 'translate('+ -dx +'px, '+ -dy +'px) scale('+wRatio+', '+hRatio+')'); //scale must be on far right for translate to be correct\n      setNextFrame(oldStyle, 'opacity', '0');\n      oldElm.addEventListener('transitionend', function (ev: TransitionEvent) {\n        if (ev.propertyName === 'transform')\n          document.body.removeChild(ev.target as Node);\n      });\n    }\n  }\n  removed = created = undefined;\n}\n\nexport const heroModule = {pre, create, destroy, post} as Module;\nexport default heroModule;","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type VNodeStyle = Record<string, string> & {\n  delayed?: Record<string, string>\n  remove?: Record<string, string>\n}\n\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function(fn: any) { raf(function() { raf(fn); }); };\n\nfunction setNextFrame(obj: any, prop: string, val: any): void {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction updateStyle(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm = vnode.elm,\n      oldStyle = (oldVnode.data as VNodeData).style,\n      style = (vnode.data as VNodeData).style;\n\n  if (!oldStyle && !style) return;\n  if (oldStyle === style) return;\n  oldStyle = oldStyle || {} as VNodeStyle;\n  style = style || {} as VNodeStyle;\n  var oldHasDel = 'delayed' in oldStyle;\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.removeProperty(name);\n      } else {\n        (elm as any).style[name] = '';\n      }\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    if (name === 'delayed' && style.delayed) {\n      for (let name2 in style.delayed) {\n        cur = style.delayed[name2];\n        if (!oldHasDel || cur !== (oldStyle.delayed as any)[name2]) {\n          setNextFrame((elm as any).style, name2, cur);\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.setProperty(name, cur);\n      } else {\n        (elm as any).style[name] = cur;\n      }\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode: VNode): void {\n  var style: any, name: string, elm = vnode.elm, s = (vnode.data as VNodeData).style;\n  if (!s || !(style = s.destroy)) return;\n  for (name in style) {\n    (elm as any).style[name] = style[name];\n  }\n}\n\nfunction applyRemoveStyle(vnode: VNode, rm: () => void): void {\n  var s = (vnode.data as VNodeData).style;\n  if (!s || !s.remove) {\n    rm();\n    return;\n  }\n  var name: string, elm = vnode.elm, i = 0, compStyle: CSSStyleDeclaration,\n      style = s.remove, amount = 0, applied: Array<string> = [];\n  for (name in style) {\n    applied.push(name);\n    (elm as any).style[name] = style[name];\n  }\n  compStyle = getComputedStyle(elm as Element);\n  var props = (compStyle as any)['transition-property'].split(', ');\n  for (; i < props.length; ++i) {\n    if(applied.indexOf(props[i]) !== -1) amount++;\n  }\n  (elm as Element).addEventListener('transitionend', function (ev: TransitionEvent) {\n    if (ev.target === elm) --amount;\n    if (amount === 0) rm();\n  });\n}\n\nexport const styleModule = {\n  create: updateStyle,\n  update: updateStyle,\n  destroy: applyDestroyStyle,\n  remove: applyRemoveStyle\n} as Module;\nexport default styleModule;\n","\"use strict\";\nfunction invokeHandler(handler, vnode, event) {\n    if (typeof handler === \"function\") {\n        // call function handler\n        handler.call(vnode, event, vnode);\n    }\n    else if (typeof handler === \"object\") {\n        // call handler with arguments\n        if (typeof handler[0] === \"function\") {\n            // special case for single argument for performance\n            if (handler.length === 2) {\n                handler[0].call(vnode, handler[1], event, vnode);\n            }\n            else {\n                var args = handler.slice(1);\n                args.push(event);\n                args.push(vnode);\n                handler[0].apply(vnode, args);\n            }\n        }\n        else {\n            // call multiple handlers\n            for (var i = 0; i < handler.length; i++) {\n                invokeHandler(handler[i]);\n            }\n        }\n    }\n}\nfunction handleEvent(event, vnode) {\n    var name = event.type, on = vnode.data.on;\n    // call event handler(s) if exists\n    if (on && on[name]) {\n        invokeHandler(on[name], vnode, event);\n    }\n}\nfunction createListener() {\n    return function handler(event) {\n        handleEvent(event, handler.vnode);\n    };\n}\nfunction updateEventListeners(oldVnode, vnode) {\n    var oldOn = oldVnode.data.on, oldListener = oldVnode.listener, oldElm = oldVnode.elm, on = vnode && vnode.data.on, elm = (vnode && vnode.elm), name;\n    // optimization for reused immutable handlers\n    if (oldOn === on) {\n        return;\n    }\n    // remove existing listeners which no longer used\n    if (oldOn && oldListener) {\n        // if element changed or deleted we remove all existing listeners unconditionally\n        if (!on) {\n            for (name in oldOn) {\n                // remove listener if element was changed or existing listeners removed\n                oldElm.removeEventListener(name, oldListener, false);\n            }\n        }\n        else {\n            for (name in oldOn) {\n                // remove listener if existing listener removed\n                if (!on[name]) {\n                    oldElm.removeEventListener(name, oldListener, false);\n                }\n            }\n        }\n    }\n    // add new listeners which has not already attached\n    if (on) {\n        // reuse existing listener or create new\n        var listener = vnode.listener = oldVnode.listener || createListener();\n        // update vnode for listener\n        listener.vnode = vnode;\n        // if element changed or added we add all needed listeners unconditionally\n        if (!oldOn) {\n            for (name in on) {\n                // add listener if element was changed or new listeners added\n                elm.addEventListener(name, listener, false);\n            }\n        }\n        else {\n            for (name in on) {\n                // add listener if new listener added\n                if (!oldOn[name]) {\n                    elm.addEventListener(name, listener, false);\n                }\n            }\n        }\n    }\n}\nconst eventListenersModule = {\n    create: updateEventListeners,\n    update: updateEventListeners,\n    destroy: updateEventListeners\n};\nexport default eventListenersModule;\n","import vnode from '../libs/vnode';\nimport isPlaneObject from '../libs/is-plane-object';\nimport { init } from 'snabbdom';\nimport { classModule } from 'snabbdom/modules/class';\nimport { datasetModule } from 'snabbdom/modules/dataset';\nimport attributes from './attributes';\nimport props from './props';\nimport { heroModule } from 'snabbdom/modules/hero';\nimport { styleModule } from 'snabbdom/modules/style';\nimport eventListenersModule from '../libs/eventlisteners';\n\n\nconst isString = value => typeof value === 'string';\nconst isPrimitive = value => isString(value) || typeof value === 'number';\nconst isFunction = value => typeof value === 'function';\nconst isElement = value => value instanceof Element;\n\n// Internal storage API\nconst $$$store = {};\n\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nconst attributeType = [\n    'event',\n    'e',\n    'props',\n    'p',\n    'style',\n    '$',\n    'dataset',\n    'd',\n    'href',\n    'placeholder',\n    'autofocus',\n    'type',\n    'for',\n    'checked',\n    'value'\n];\n\n\nconst attributeHas = (key, prop) => prop.some(attribute => key.indexOf(attributeHas) >= 0);\n\nconst assembly = (tagName) => {\n    return function inner(...args) {\n        let sel = `${tagName}`;\n        let selectorName = tagName;\n        let attributes = { attrs: {}, props: {} };\n        let item;\n        let textNode;\n        let childNodes = [];\n        let i;\n        let children;\n        let text;\n\n\n        for (i = 0; i < args.length; i++) {\n            item = args[i] || {};\n            let isItemObject = isPlaneObject(item);\n            let isItemVnode = item.hasOwnProperty('sel');\n\n            // Check if item is a plane object = attribute.\n            if (isItemObject && !isItemVnode) {\n                let isSelector = false;\n                const attrKeys = Object.keys(item);\n\n                // Create virtual id selector.\n                if (item.hasOwnProperty('id') || item.hasOwnProperty('#')) {\n                    selectorName += '#' + item.id;\n                    isSelector = true;\n                }\n                // Create virtual class selectors.\n                if (item.hasOwnProperty('class') || item.hasOwnProperty('.')) {\n                    selectorName += '.' + item.class;\n                    isSelector = true;\n                }\n\n                attrKeys.forEach((key) => {\n                    // If not selector\n                    if (['id', '#', 'class', '.'].indexOf(key) < 0) {\n                        switch (key) {\n                            case 'e':\n                            case 'event':\n                                attributes.on = item[key];\n                                break;\n                            case 'p':\n                            case 'props':\n                                attributes.props = item[key];\n                                break;\n                            case '$':\n                            case 'style':\n                                attributes.style = item[key];\n                                break;\n                            case 'd':\n                            case 'dataset':\n                                attributes.dataset = item[key];\n                                break;\n                            default:\n                                attributes.attrs[key] = item[key];\n                        }\n                    }\n                });\n                continue;\n            }\n\n            // Check if item is an array = group of child elements.\n            if (Array.isArray(item)) {\n                childNodes = [...childNodes, ...item];\n                continue;\n            }\n\n            // check if item is not an object, array or function = child element.\n            if (isItemObject && isItemVnode || isPrimitive) {\n                childNodes.push(item);\n                continue;\n            }\n        }\n\n        for (i = 0; i < childNodes.length; ++i) {\n            if (isPrimitive(childNodes[i])) {\n                childNodes[i] = vnode(undefined, undefined, undefined, childNodes[i]);\n            }\n        }\n\n        if (selectorName[0] === 's' && selectorName[1] === 'v' && selectorName[2] === 'g' &&\n            (selectorName.length === 3 || selectorName[3] === '.' || selectorName[3] === '#')) {\n            addNS(attributes, childNodes, selectorName);\n        }\n\n        return vnode(selectorName, attributes, childNodes, text, undefined);\n    }\n}\n\n\n\n// HTML Elements.\nexport const a = assembly('a');\nexport const abbr = assembly('abbr');\nexport const address = assembly('address');\nexport const area = assembly('area');\nexport const article = assembly('article');\nexport const aside = assembly('aside');\nexport const audio = assembly('audio');\nexport const childNodes = assembly('childNodes');\nexport const base = assembly('base');\nexport const bdi = assembly('bdi');\nexport const bdo = assembly('bdo');\nexport const blockquote = assembly('blockquote');\nexport const body = assembly('body');\nexport const br = assembly('br');\nexport const button = assembly('button');\nexport const canvas = assembly('canvas');\nexport const caption = assembly('caption');\nexport const cite = assembly('cite');\nexport const code = assembly('code');\nexport const col = assembly('col');\nexport const colgroup = assembly('colgroup');\nexport const command = assembly('command');\nexport const dd = assembly('dd');\nexport const del = assembly('del');\nexport const dfn = assembly('dfn');\nexport const div = assembly('DIV');\nexport const dl = assembly('dl');\nexport const doctype = assembly('doctype');\nexport const dt = assembly('dt');\nexport const em = assembly('em');\nexport const embed = assembly('embed');\nexport const fieldset = assembly('fieldset');\nexport const figcaption = assembly('figcaption');\nexport const figure = assembly('figure');\nexport const footer = assembly('footer');\nexport const form = assembly('form');\nexport const h1 = assembly('h1');\nexport const h2 = assembly('h2');\nexport const h3 = assembly('h3');\nexport const h4 = assembly('h4');\nexport const h5 = assembly('h5');\nexport const h6 = assembly('h6');\nexport const header = assembly('header');\nexport const hgroup = assembly('hgroup');\nexport const hr = assembly('hr');\nexport const html = assembly('html');\nexport const i = assembly('i');\nexport const iframe = assembly('iframe');\nexport const img = assembly('img');\nexport const input = assembly('input');\nexport const ins = assembly('ins');\nexport const kbd = assembly('kbd');\nexport const keygen = assembly('keygen');\nexport const label = assembly('label');\nexport const legend = assembly('legend');\nexport const li = assembly('li');\nexport const link = assembly('link');\nexport const map = assembly('map');\nexport const mark = assembly('mark');\nexport const menu = assembly('menu');\nexport const meta = assembly('meta');\nexport const nav = assembly('nav');\nexport const noscript = assembly('noscript');\nexport const object = assembly('object');\nexport const ol = assembly('ol');\nexport const optgroup = assembly('optgroup');\nexport const option = assembly('option');\nexport const p = assembly('p');\nexport const param = assembly('param');\nexport const pre = assembly('pre');\nexport const progress = assembly('progress');\nexport const q = assembly('q');\nexport const rp = assembly('rp');\nexport const rt = assembly('rt');\nexport const ruby = assembly('ruby');\nexport const s = assembly('s');\nexport const samp = assembly('samp');\nexport const script = assembly('script');\nexport const section = assembly('section');\nexport const select = assembly('select');\nexport const small = assembly('small');\nexport const source = assembly('source');\nexport const span = assembly('span');\nexport const strong = assembly('strong');\nexport const style = assembly('style');\nexport const sub = assembly('sub');\nexport const sup = assembly('sup');\nexport const table = assembly('table');\nexport const tbody = assembly('tbody');\nexport const td = assembly('td');\nexport const textarea = assembly('textarea');\nexport const tfoot = assembly('tfoot');\nexport const th = assembly('th');\nexport const thead = assembly('thead');\nexport const title = assembly('title');\nexport const tr = assembly('tr');\nexport const ul = assembly('ul');\nexport const Var = assembly('var'); // First capital\nexport const video = assembly('video');\n\n// SVG Elements.\nexport const altGlyph = assembly('altGlyph');\nexport const altGlyphDef = assembly('altGlyphDef');\nexport const altGlyphItem = assembly('altGlyphItem');\nexport const animate = assembly('animate');\nexport const animateColor = assembly('animateColor');\nexport const animateMotion = assembly('animateMotion');\nexport const animateTransform = assembly('animateTransform');\nexport const animation = assembly('animation');\nexport const circle = assembly('circle');\nexport const clipPath = assembly('clipPath');\nexport const colorProfile = assembly('color-profile');  // color-profile\nexport const cursor = assembly('cursor');\nexport const defs = assembly('defs');\nexport const desc = assembly('desc');\nexport const discard = assembly('discard');\nexport const ellipse = assembly('ellipse');\nexport const feBlend = assembly('feBlend');\nexport const feColorMatrix = assembly('feComposite');\nexport const feComponentTransfer = assembly('feComponentTransfer');\nexport const feComposite = assembly('feComposite');\nexport const feConvolveMatrix = assembly('feConvolveMatrix');\nexport const feDiffuseLighting = assembly('feDiffuseLighting');\nexport const feDisplacementMap = assembly('feDistantLight');\nexport const feDistantLight = assembly('feDistantLight');\nexport const feDropShadow = assembly('feDropShadow');\nexport const feFlood = assembly('feFlood');\nexport const feFuncA = assembly('feFuncA');\nexport const feFuncB = assembly('feFuncB');\nexport const feFuncG = assembly('feFuncG');\nexport const feFuncR = assembly('feFuncR');\nexport const feGaussianBlur = assembly('feGaussianBlur');\nexport const feImage = assembly('feImage');\nexport const feMerge = assembly('feMerge');\nexport const feMergeNode = assembly('feMergeNode');\nexport const feMorphology = assembly('feMorphology');\nexport const feOffset = assembly('feOffset');\nexport const fePointLight = assembly('fePointLight');\nexport const feSpecularLighting = assembly('feSpecularLighting');\nexport const feSpotLight = assembly('feSpotLight');\nexport const feTile = assembly('feTile');\nexport const feTurbulence = assembly('feTurbulence');\nexport const filter = assembly('filter');\nexport const font = assembly('font');\nexport const fontFace = assembly('font-face');               // fontFace\nexport const fontFaceFormat = assembly('font-face-format');  // fontFaceFormat\nexport const fontFaceName = assembly('font-face-name');      // fontFaceName\nexport const fontFaceSrc = assembly('font-face-src');        // fontFaceSrc\nexport const fontFaceUri = assembly('font-face-uri');        // fontFaceUri\nexport const foreignObject = assembly('foreignObject');\nexport const g = assembly('g');\nexport const glyph = assembly('glyph');\nexport const glyphRef = assembly('glyphRef');\nexport const handler = assembly('handler');\nexport const hatch = assembly('hatch');\nexport const hatchpath = assembly('hatchpath');\nexport const hkern = assembly('hkern');\nexport const image = assembly('image');\nexport const line = assembly('line');\nexport const linearGradient = assembly('linearGradient');\nexport const listener = assembly('listener');\nexport const marker = assembly('marker');\nexport const mask = assembly('mask');\nexport const mesh = assembly('mesh');\nexport const meshgradient = assembly('meshgradient');\nexport const meshpatch = assembly('meshpatch');\nexport const meshrow = assembly('meshrow');\nexport const metadata = assembly('metadata');\nexport const missingGlyph = assembly('missing-glyph');  // missing-glyph\nexport const mpath = assembly('mpath');\nexport const path = assembly('path');\nexport const pattern = assembly('pattern');\nexport const polygon = assembly('polygon');\nexport const polyline = assembly('polyline');\nexport const prefetch = assembly('prefetch');\nexport const radialGradient = assembly('radialGradient');\nexport const rect = assembly('rect');\nexport const set = assembly('set');\nexport const solidColor = assembly('solidColor');\nexport const solidcolor = assembly('solidcolor');\nexport const stop = assembly('stop');\nexport const Switch = assembly('switch'); // First capital\nexport const symbol = assembly('symbol');\nexport const tbreak = assembly('tbreak');\nexport const text = assembly('text');\nexport const textArea = assembly('textArea');\nexport const textPath = assembly('textPath');\nexport const tref = assembly('tref');\nexport const tspan = assembly('tspan');\nexport const unknown = assembly('unknown');\nexport const use = assembly('use');\nexport const view = assembly('view');\nexport const vkern = assembly('vkern')\n// a in HTML\n// audio in HTML\n// canvas in HTML\n// iframe in HTML\n// video in HTML\n// script in HTML\n// style in HTML\n// svg in HTML\n// title in HTML\n\n// Render API\nexport const patch = init([\n    classModule,\n    props,\n    attributes,\n    heroModule,\n    styleModule,\n    datasetModule,\n    eventListenersModule\n]);\n\nconst renderPartial = () => {\n    let previousVNode;\n    let DOMContainer;\n    let selectorString;\n    let documentRef = document;\n    /**\n     * @param {string | HTMLElement} selector - Root HTML element \n     * @param {Object} newVNode - New virtual node\n     * @param {Boolean} cache - Cache element, defaults to true.\n     */\n    return (selector, newVNode, cache) => {\n        // Set HTML element.\n        if (isString(selector)) {\n            if (selector !== selectorString && !cache) {\n                DOMContainer = documentRef.querySelector(selector);\n                selectorString = selector;\n            }\n        } else if (isElement(selector) && !cache) {\n            if (selector !== selectorString) {\n                DOMContainer = selector;\n            }\n        }\n\n\n        // Diff and patch the DOM. \n        if (!previousVNode) {\n            patch(DOMContainer, newVNode);\n        }\n        if (previousVNode && previousVNode !== newVNode) {\n            patch(previousVNode, newVNode);\n        }\n        previousVNode = newVNode;\n    }\n}\n\nexport const render = renderPartial();\n\n/**\n * A simple plugin integration system.\n * {\n *      dependencies:[api, api, api],\n *      waveModules: [wModule, wModule, wModule]\n * }\n *\n */\nexport const registerWaveModules = (...pluginsList) => {\n  \n    // Register dependencies \n\n    // Register waveModules\n\n    // Check dependenicies exist for waveModules\n\n    // Throw error if dependencies do not exist for any waveModule\n\n    // Expose Wavefront to plugins via $$$store object. \n}"],"names":["vnode","sel","data","children","text","elm","key","undefined","objectTag","freeGlobal","global","Object","freeSelf","self","root","Function","overArg","func","transform","arg","funcProto","prototype","objectProto","funcToString","toString","hasOwnProperty","objectCtorString","call","objectToString","getPrototype","getPrototypeOf","isObjectLike","value","isPlainObject","proto","Ctor","constructor","lodash","exports","Array","isArray","s","tagName","document","createElement","namespaceURI","qualifiedName","createElementNS","createTextNode","createComment","parentNode","newNode","referenceNode","insertBefore","node","child","removeChild","appendChild","nextSibling","textContent","nodeType","ns","i","length","childData","b","c","is","array","primitive","vnode_1","h","thunk","fn","args","cur","apply","oldVnode","old","oldArgs","h_1","init","prepatch","emptyNode","vnode1","vnode2","beginIdx","endIdx","map","ch","hooks","modules","domApi","j","cbs","api","htmldomapi_1","hook","push","id","className","split","join","toLowerCase","childElm","listeners","parent_1","insertedVnodeQueue","isDef","isUndef","hashIdx","indexOf","dotIdx","hash","dot","tag","slice","Math","min","setAttribute","replace","create","createElm","insert","parentElm","before","vnodes","startIdx","destroy","i_1","rm","remove","createRmCb","oldCh","newCh","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","sameVnode","createKeyToOldIdx","update","updateChildren","setTextContent","postpatch","parent","pre","isVnode","emptyNodeAt","post","name","oldClass","class","klass","classList","updateClass","CAPS_REGEX","oldDataset","dataset","d","removeAttribute","updateDataset","booleanAttrs","xlinkNS","xmlNS","colonChar","xChar","booleanAttrsDict","len","updateAttrs","oldAttrs","attrs","charCodeAt","setAttributeNS","updateProps","oldProps","props","raf","window","requestAnimationFrame","setTimeout","nextFrame","obj","prop","val","textNode","rect","createRange","range","selectNodeContents","getBoundingClientRect","isTextNode","textRect","boundingRect","relativeCenterX","left","width","relativeCenterY","top","height","oldTextRect","newTextRect","childNodes","removed","created","hero","isTextElement","getTextNodeRect","computedStyle","getComputedStyle","savedStyle","JSON","parse","stringify","newElm","oldElm","hRatio","wRatio","oldRect","newRect","dx","dy","origTransform","origTransition","newStyle","oldStyle","newComputedStyle","style","getTextDx","getTextDy","max","transition","display","transformOrigin","calcTransformOrigin","opacity","parseInt","ms","substring","moz","webkit","position","margin","body","addEventListener","ev","propertyName","target","oldHasDel","removeProperty","delayed","name2","setProperty","compStyle","amount","applied","updateStyle","applyDestroyStyle","applyRemoveStyle","invokeHandler","handler","event","handleEvent","type","on","createListener","updateEventListeners","oldOn","oldListener","listener","removeEventListener","eventListenersModule","isString","isPrimitive","isElement","Element","addNS","assembly","inner","selectorName","attributes","item","isItemObject","isPlaneObject","isItemVnode","isSelector","attrKeys","keys","forEach","a","abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","command","dd","del","dfn","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","progress","q","rp","rt","ruby","samp","script","section","select","small","source","span","strong","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","ul","Var","video","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","animation","circle","clipPath","colorProfile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hatch","hatchpath","hkern","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","prefetch","radialGradient","set","solidColor","solidcolor","stop","Switch","symbol","tbreak","textArea","textPath","tref","tspan","unknown","use","view","vkern","patch","classModule","heroModule","styleModule","datasetModule","renderPartial","previousVNode","DOMContainer","selectorString","documentRef","selector","newVNode","cache","querySelector","render","registerWaveModules"],"mappings":"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"}