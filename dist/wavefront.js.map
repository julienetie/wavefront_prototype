{"version":3,"file":"wavefront.js","sources":["../libs/is-plane-object.js","../node_modules/snabbdom/vnode.js","../node_modules/snabbdom/is.js","../node_modules/snabbdom/htmldomapi.js","../node_modules/snabbdom/h.js","../node_modules/snabbdom/thunk.js","../node_modules/snabbdom/snabbdom.js","../node_modules/snabbdom/modules/class.js","../node_modules/snabbdom/modules/dataset.js","../src/attributes.js","../node_modules/snabbdom/modules/hero.js","../node_modules/snabbdom/modules/style.js","../src/index.js"],"sourcesContent":["/**\n * @license\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash include=\"isPlainObject\" -o isPlainObject.js`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n// ;(function() {\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.16.4';\n\n  /** `Object#toString` result references. */\n  var objectTag = '[object Object]';\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /** Used for built-in method references. */\n  var funcProto = Function.prototype,\n      objectProto = Object.prototype;\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to infer the `Object` constructor. */\n  var objectCtorString = funcToString.call(Object);\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString = objectProto.toString;\n\n  /** Built-in value references. */\n  var Symbol = root.Symbol,\n      getPrototype = overArg(Object.getPrototypeOf, Object);\n\n  /** Used to lookup unminified function names. */\n  var realNames = {};\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps `value` to enable implicit method\n   * chain sequences. Methods that operate on and return arrays, collections,\n   * and functions can be chained together. Methods that retrieve a single value\n   * or may return a primitive value will automatically end the chain sequence\n   * and return the unwrapped value. Otherwise, the value must be unwrapped\n   * with `_#value`.\n   *\n   * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n   * enabled using `_.chain`.\n   *\n   * The execution of chained methods is lazy, that is, it's deferred until\n   * `_#value` is implicitly or explicitly called.\n   *\n   * Lazy evaluation allows several methods to support shortcut fusion.\n   * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n   * the creation of intermediate arrays and can greatly reduce the number of\n   * iteratee executions. Sections of a chain sequence qualify for shortcut\n   * fusion if the section is applied to an array of at least `200` elements\n   * and any iteratees accept only one argument. The heuristic for whether a\n   * section qualifies for shortcut fusion is subject to change.\n   *\n   * Chaining is supported in custom builds as long as the `_#value` method is\n   * directly or indirectly included in the build.\n   *\n   * In addition to lodash methods, wrappers have `Array` and `String` methods.\n   *\n   * The wrapper `Array` methods are:\n   * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n   *\n   * The wrapper `String` methods are:\n   * `replace` and `split`\n   *\n   * The wrapper methods that support shortcut fusion are:\n   * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n   * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n   * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n   *\n   * The chainable wrapper methods are:\n   * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n   * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n   * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n   * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n   * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n   * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n   * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n   * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n   * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n   * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n   * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n   * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n   * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n   * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n   * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n   * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n   * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n   * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n   * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n   * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n   * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n   * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n   * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n   * `zipObject`, `zipObjectDeep`, and `zipWith`\n   *\n   * The wrapper methods that are **not** chainable by default are:\n   * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n   * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n   * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n   * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n   * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n   * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n   * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n   * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n   * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n   * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n   * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n   * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n   * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n   * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n   * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n   * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n   * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n   * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n   * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n   * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n   * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n   * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n   * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n   * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n   * `upperFirst`, `value`, and `words`\n   *\n   * @name _\n   * @constructor\n   * @category Seq\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns the new `lodash` wrapper instance.\n   * @example\n   *\n   * function square(n) {\n   *   return n * n;\n   * }\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // Returns an unwrapped value.\n   * wrapped.reduce(_.add);\n   * // => 6\n   *\n   * // Returns a wrapped value.\n   * var squares = wrapped.map(square);\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash() {\n    // No operation performed.\n  }\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return value != null && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is a plain object, that is, an object created by the\n   * `Object` constructor or one with a `[[Prototype]]` of `null`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.8.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   * }\n   *\n   * _.isPlainObject(new Foo);\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'x': 0, 'y': 0 });\n   * // => true\n   *\n   * _.isPlainObject(Object.create(null));\n   * // => true\n   */\n  export default function isPlainObject(value) {\n    if (!isObjectLike(value) || objectToString.call(value) != objectTag) {\n      return false;\n    }\n    var proto = getPrototype(value);\n    if (proto === null) {\n      return true;\n    }\n    var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return (typeof Ctor == 'function' &&\n      Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n  }\n\n  /*------------------------------------------------------------------------*/\n\n  // Add methods that return unwrapped values in chain sequences.\n  lodash.isObjectLike = isObjectLike;\n  lodash.isPlainObject = isPlainObject;\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type {string}\n   */\n  lodash.VERSION = VERSION;\n\n  /*--------------------------------------------------------------------------*/\n\n//   // Some AMD build optimizers, like r.js, check for condition patterns like:\n//   if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n//     // Expose Lodash on the global object to prevent errors when Lodash is\n//     // loaded by a script tag in the presence of an AMD loader.\n//     // See http://requirejs.org/docs/errors.html#mismatch for more details.\n//     // Use `_.noConflict` to remove Lodash from the global object.\n//     root._ = lodash;\n\n//     // Define as an anonymous module so, through path mapping, it can be\n//     // referenced as the \"underscore\" module.\n//     define(function() {\n//       return lodash;\n//     });\n//   }\n//   // Check for `exports` after `define` in case a build optimizer adds it.\n//   else if (freeModule) {\n//     // Export for Node.js.\n//     (freeModule.exports = lodash)._ = lodash;\n//     // Export for CommonJS support.\n//     freeExports._ = lodash;\n//   }\n//   else {\n//     // Export to the global object.\n//     root._ = lodash;\n//   }\n// }.call(this));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexports.vnode = vnode;\nexports.default = vnode;\n//# sourceMappingURL=vnode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.array = Array.isArray;\nfunction primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\nexports.primitive = primitive;\n//# sourceMappingURL=is.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction createElement(tagName) {\n    return document.createElement(tagName);\n}\nfunction createElementNS(namespaceURI, qualifiedName) {\n    return document.createElementNS(namespaceURI, qualifiedName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(elm) {\n    return elm.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction getTextContent(node) {\n    return node.textContent;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isText(node) {\n    return node.nodeType === 3;\n}\nfunction isComment(node) {\n    return node.nodeType === 8;\n}\nexports.htmlDomApi = {\n    createElement: createElement,\n    createElementNS: createElementNS,\n    createTextNode: createTextNode,\n    createComment: createComment,\n    insertBefore: insertBefore,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    parentNode: parentNode,\n    nextSibling: nextSibling,\n    tagName: tagName,\n    setTextContent: setTextContent,\n    getTextContent: getTextContent,\n    isElement: isElement,\n    isText: isText,\n    isComment: isComment,\n};\nexports.default = exports.htmlDomApi;\n//# sourceMappingURL=htmldomapi.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vnode_1 = require(\"./vnode\");\nvar is = require(\"./is\");\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nfunction h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode_1.vnode(undefined, undefined, undefined, children[i]);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode_1.vnode(sel, data, children, text, undefined);\n}\nexports.h = h;\n;\nexports.default = h;\n//# sourceMappingURL=h.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar h_1 = require(\"./h\");\nfunction copyToThunk(vnode, thunk) {\n    thunk.elm = vnode.elm;\n    vnode.data.fn = thunk.data.fn;\n    vnode.data.args = thunk.data.args;\n    thunk.data = vnode.data;\n    thunk.children = vnode.children;\n    thunk.text = vnode.text;\n    thunk.elm = vnode.elm;\n}\nfunction init(thunk) {\n    var cur = thunk.data;\n    var vnode = cur.fn.apply(undefined, cur.args);\n    copyToThunk(vnode, thunk);\n}\nfunction prepatch(oldVnode, thunk) {\n    var i, old = oldVnode.data, cur = thunk.data;\n    var oldArgs = old.args, args = cur.args;\n    if (old.fn !== cur.fn || oldArgs.length !== args.length) {\n        copyToThunk(cur.fn.apply(undefined, args), thunk);\n        return;\n    }\n    for (i = 0; i < args.length; ++i) {\n        if (oldArgs[i] !== args[i]) {\n            copyToThunk(cur.fn.apply(undefined, args), thunk);\n            return;\n        }\n    }\n    copyToThunk(oldVnode, thunk);\n}\nexports.thunk = function thunk(sel, key, fn, args) {\n    if (args === undefined) {\n        args = fn;\n        fn = key;\n        key = undefined;\n    }\n    return h_1.h(sel, {\n        key: key,\n        hook: { init: init, prepatch: prepatch },\n        fn: fn,\n        args: args\n    });\n};\nexports.default = exports.thunk;\n//# sourceMappingURL=thunk.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vnode_1 = require(\"./vnode\");\nvar is = require(\"./is\");\nvar htmldomapi_1 = require(\"./htmldomapi\");\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\nvar emptyNode = vnode_1.default('', {}, [], undefined, undefined);\nfunction sameVnode(vnode1, vnode2) {\n    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\nfunction isVnode(vnode) {\n    return vnode.sel !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, map = {}, key, ch;\n    for (i = beginIdx; i <= endIdx; ++i) {\n        ch = children[i];\n        if (ch != null) {\n            key = ch.key;\n            if (key !== undefined)\n                map[key] = i;\n        }\n    }\n    return map;\n}\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\nvar h_1 = require(\"./h\");\nexports.h = h_1.h;\nvar thunk_1 = require(\"./thunk\");\nexports.thunk = thunk_1.thunk;\nfunction init(modules, domApi) {\n    var i, j, cbs = {};\n    var api = domApi !== undefined ? domApi : htmldomapi_1.default;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            var hook = modules[j][hooks[i]];\n            if (hook !== undefined) {\n                cbs[hooks[i]].push(hook);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        var id = elm.id ? '#' + elm.id : '';\n        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n        return vnode_1.default(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        return function rmCb() {\n            if (--listeners === 0) {\n                var parent_1 = api.parentNode(childElm);\n                api.removeChild(parent_1, childElm);\n            }\n        };\n    }\n    function createElm(vnode, insertedVnodeQueue) {\n        var i, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.init)) {\n                i(vnode);\n                data = vnode.data;\n            }\n        }\n        var children = vnode.children, sel = vnode.sel;\n        if (sel === '!') {\n            if (isUndef(vnode.text)) {\n                vnode.text = '';\n            }\n            vnode.elm = api.createComment(vnode.text);\n        }\n        else if (sel !== undefined) {\n            // Parse selector\n            var hashIdx = sel.indexOf('#');\n            var dotIdx = sel.indexOf('.', hashIdx);\n            var hash = hashIdx > 0 ? hashIdx : sel.length;\n            var dot = dotIdx > 0 ? dotIdx : sel.length;\n            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                : api.createElement(tag);\n            if (hash < dot)\n                elm.setAttribute('id', sel.slice(hash + 1, dot));\n            if (dotIdx > 0)\n                elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n            for (i = 0; i < cbs.create.length; ++i)\n                cbs.create[i](emptyNode, vnode);\n            if (is.array(children)) {\n                for (i = 0; i < children.length; ++i) {\n                    var ch = children[i];\n                    if (ch != null) {\n                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                    }\n                }\n            }\n            else if (is.primitive(vnode.text)) {\n                api.appendChild(elm, api.createTextNode(vnode.text));\n            }\n            i = vnode.data.hook; // Reuse variable\n            if (isDef(i)) {\n                if (i.create)\n                    i.create(emptyNode, vnode);\n                if (i.insert)\n                    insertedVnodeQueue.push(vnode);\n            }\n        }\n        else {\n            vnode.elm = api.createTextNode(vnode.text);\n        }\n        return vnode.elm;\n    }\n    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (ch != null) {\n                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n            }\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.destroy))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n            if (vnode.children !== undefined) {\n                for (j = 0; j < vnode.children.length; ++j) {\n                    i = vnode.children[j];\n                    if (i != null && typeof i !== \"string\") {\n                        invokeDestroyHook(i);\n                    }\n                }\n            }\n        }\n    }\n    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n            if (ch != null) {\n                if (isDef(ch.sel)) {\n                    invokeDestroyHook(ch);\n                    listeners = cbs.remove.length + 1;\n                    rm = createRmCb(ch.elm, listeners);\n                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n                        cbs.remove[i_1](ch, rm);\n                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n                        i_1(ch, rm);\n                    }\n                    else {\n                        rm();\n                    }\n                }\n                else {\n                    api.removeChild(parentElm, ch.elm);\n                }\n            }\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n        var oldStartIdx = 0, newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx;\n        var idxInOld;\n        var elmToMove;\n        var before;\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n            }\n            else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key];\n                if (isUndef(idxInOld)) {\n                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    newStartVnode = newCh[++newStartIdx];\n                }\n                else {\n                    elmToMove = oldCh[idxInOld];\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    }\n                    else {\n                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                        oldCh[idxInOld] = undefined;\n                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                    }\n                    newStartVnode = newCh[++newStartIdx];\n                }\n            }\n        }\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n        }\n        else if (newStartIdx > newEndIdx) {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n        var i, hook;\n        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n            i(oldVnode, vnode);\n        }\n        var elm = vnode.elm = oldVnode.elm;\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (oldVnode === vnode)\n            return;\n        if (vnode.data !== undefined) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            i = vnode.data.hook;\n            if (isDef(i) && isDef(i = i.update))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n            }\n            else if (isDef(ch)) {\n                if (isDef(oldVnode.text))\n                    api.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            api.setTextContent(elm, vnode.text);\n        }\n        if (isDef(hook) && isDef(i = hook.postpatch)) {\n            i(oldVnode, vnode);\n        }\n    }\n    return function patch(oldVnode, vnode) {\n        var i, elm, parent;\n        var insertedVnodeQueue = [];\n        for (i = 0; i < cbs.pre.length; ++i)\n            cbs.pre[i]();\n        if (!isVnode(oldVnode)) {\n            oldVnode = emptyNodeAt(oldVnode);\n        }\n        if (sameVnode(oldVnode, vnode)) {\n            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n        }\n        else {\n            elm = oldVnode.elm;\n            parent = api.parentNode(elm);\n            createElm(vnode, insertedVnodeQueue);\n            if (parent !== null) {\n                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                removeVnodes(parent, [oldVnode], 0, 0);\n            }\n        }\n        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n        }\n        for (i = 0; i < cbs.post.length; ++i)\n            cbs.post[i]();\n        return vnode;\n    };\n}\nexports.init = init;\n//# sourceMappingURL=snabbdom.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction updateClass(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldClass = oldVnode.data.class, klass = vnode.data.class;\n    if (!oldClass && !klass)\n        return;\n    if (oldClass === klass)\n        return;\n    oldClass = oldClass || {};\n    klass = klass || {};\n    for (name in oldClass) {\n        if (!klass[name]) {\n            elm.classList.remove(name);\n        }\n    }\n    for (name in klass) {\n        cur = klass[name];\n        if (cur !== oldClass[name]) {\n            elm.classList[cur ? 'add' : 'remove'](name);\n        }\n    }\n}\nexports.classModule = { create: updateClass, update: updateClass };\nexports.default = exports.classModule;\n//# sourceMappingURL=class.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CAPS_REGEX = /[A-Z]/g;\nfunction updateDataset(oldVnode, vnode) {\n    var elm = vnode.elm, oldDataset = oldVnode.data.dataset, dataset = vnode.data.dataset, key;\n    if (!oldDataset && !dataset)\n        return;\n    if (oldDataset === dataset)\n        return;\n    oldDataset = oldDataset || {};\n    dataset = dataset || {};\n    var d = elm.dataset;\n    for (key in oldDataset) {\n        if (!dataset[key]) {\n            if (d) {\n                delete d[key];\n            }\n            else {\n                elm.removeAttribute('data-' + key.replace(CAPS_REGEX, '-$&').toLowerCase());\n            }\n        }\n    }\n    for (key in dataset) {\n        if (oldDataset[key] !== dataset[key]) {\n            if (d) {\n                d[key] = dataset[key];\n            }\n            else {\n                elm.setAttribute('data-' + key.replace(CAPS_REGEX, '-$&').toLowerCase(), dataset[key]);\n            }\n        }\n    }\n}\nexports.datasetModule = { create: updateDataset, update: updateDataset };\nexports.default = exports.datasetModule;\n//# sourceMappingURL=dataset.js.map","const booleanAttrs = [\n    \"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"compact\", \"controls\", \"declare\",\n    \"default\", \"defaultchecked\", \"defaultmuted\", \"defaultselected\", \"defer\", \"disabled\", \"draggable\",\n    \"enabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"itemscope\", \"loop\", \"multiple\",\n    \"muted\", \"nohref\", \"noresize\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"pauseonexit\", \"readonly\",\n    \"required\", \"reversed\", \"scoped\", \"seamless\", \"selected\", \"sortable\", \"spellcheck\", \"translate\",\n    \"truespeed\", \"typemustmatch\", \"visible\"\n];\n\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace';\nconst colonChar = 58;\nconst xChar = 120;\nconst booleanAttrsDict = Object.create(null);\n\nfor (let i = 0, len = booleanAttrs.length; i < len; i++) {\n    booleanAttrsDict[booleanAttrs[i]] = true;\n}\n\nfunction updateAttrs(oldVnode, vnode) {\n    let key;\n    let elm = vnode.elm;\n    let oldAttrs = oldVnode.data.attrs;\n    let attrs = vnode.data.attrs;\n    if ((!oldAttrs && !attrs) || (oldAttrs === attrs)) {\n        return;\n    }\n\n    oldAttrs = oldAttrs || {};\n\n    attrs = attrs || {};\n\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        let cur = attrs[key];\n        let old = oldAttrs[key];\n\n        if (old !== cur) {\n            if (booleanAttrsDict[key]) {\n                if (cur) {\n                    elm.setAttribute(key, '');\n                } else {\n                    elm.removeAttribute(key);\n                }\n            } else {\n                if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                } else if (key.charCodeAt(3) === colonChar) {\n                    // Assume xml namespace\n                    elm.setAttributeNS(xmlNS, key, cur);\n                } else if (key.charCodeAt(5) === colonChar) {\n                    // Assume xlink namespace\n                    elm.setAttributeNS(xlinkNS, key, cur);\n                } else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    // remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexport default { create: updateAttrs, update: updateAttrs };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function (fn) { raf(function () { raf(fn); }); };\nfunction setNextFrame(obj, prop, val) {\n    nextFrame(function () { obj[prop] = val; });\n}\nfunction getTextNodeRect(textNode) {\n    var rect;\n    if (document.createRange) {\n        var range = document.createRange();\n        range.selectNodeContents(textNode);\n        if (range.getBoundingClientRect) {\n            rect = range.getBoundingClientRect();\n        }\n    }\n    return rect;\n}\nfunction calcTransformOrigin(isTextNode, textRect, boundingRect) {\n    if (isTextNode) {\n        if (textRect) {\n            //calculate pixels to center of text from left edge of bounding box\n            var relativeCenterX = textRect.left + textRect.width / 2 - boundingRect.left;\n            var relativeCenterY = textRect.top + textRect.height / 2 - boundingRect.top;\n            return relativeCenterX + 'px ' + relativeCenterY + 'px';\n        }\n    }\n    return '0 0'; //top left\n}\nfunction getTextDx(oldTextRect, newTextRect) {\n    if (oldTextRect && newTextRect) {\n        return ((oldTextRect.left + oldTextRect.width / 2) - (newTextRect.left + newTextRect.width / 2));\n    }\n    return 0;\n}\nfunction getTextDy(oldTextRect, newTextRect) {\n    if (oldTextRect && newTextRect) {\n        return ((oldTextRect.top + oldTextRect.height / 2) - (newTextRect.top + newTextRect.height / 2));\n    }\n    return 0;\n}\nfunction isTextElement(elm) {\n    return elm.childNodes.length === 1 && elm.childNodes[0].nodeType === 3;\n}\nvar removed, created;\nfunction pre() {\n    removed = {};\n    created = [];\n}\nfunction create(oldVnode, vnode) {\n    var hero = vnode.data.hero;\n    if (hero && hero.id) {\n        created.push(hero.id);\n        created.push(vnode);\n    }\n}\nfunction destroy(vnode) {\n    var hero = vnode.data.hero;\n    if (hero && hero.id) {\n        var elm = vnode.elm;\n        vnode.isTextNode = isTextElement(elm); //is this a text node?\n        vnode.boundingRect = elm.getBoundingClientRect(); //save the bounding rectangle to a new property on the vnode\n        vnode.textRect = vnode.isTextNode ? getTextNodeRect(elm.childNodes[0]) : null; //save bounding rect of inner text node\n        var computedStyle = window.getComputedStyle(elm, void 0); //get current styles (includes inherited properties)\n        vnode.savedStyle = JSON.parse(JSON.stringify(computedStyle)); //save a copy of computed style values\n        removed[hero.id] = vnode;\n    }\n}\nfunction post() {\n    var i, id, newElm, oldVnode, oldElm, hRatio, wRatio, oldRect, newRect, dx, dy, origTransform, origTransition, newStyle, oldStyle, newComputedStyle, isTextNode, newTextRect, oldTextRect;\n    for (i = 0; i < created.length; i += 2) {\n        id = created[i];\n        newElm = created[i + 1].elm;\n        oldVnode = removed[id];\n        if (oldVnode) {\n            isTextNode = oldVnode.isTextNode && isTextElement(newElm); //Are old & new both text?\n            newStyle = newElm.style;\n            newComputedStyle = window.getComputedStyle(newElm, void 0); //get full computed style for new element\n            oldElm = oldVnode.elm;\n            oldStyle = oldElm.style;\n            //Overall element bounding boxes\n            newRect = newElm.getBoundingClientRect();\n            oldRect = oldVnode.boundingRect; //previously saved bounding rect\n            //Text node bounding boxes & distances\n            if (isTextNode) {\n                newTextRect = getTextNodeRect(newElm.childNodes[0]);\n                oldTextRect = oldVnode.textRect;\n                dx = getTextDx(oldTextRect, newTextRect);\n                dy = getTextDy(oldTextRect, newTextRect);\n            }\n            else {\n                //Calculate distances between old & new positions\n                dx = oldRect.left - newRect.left;\n                dy = oldRect.top - newRect.top;\n            }\n            hRatio = newRect.height / (Math.max(oldRect.height, 1));\n            wRatio = isTextNode ? hRatio : newRect.width / (Math.max(oldRect.width, 1)); //text scales based on hRatio\n            // Animate new element\n            origTransform = newStyle.transform;\n            origTransition = newStyle.transition;\n            if (newComputedStyle.display === 'inline')\n                newStyle.display = 'inline-block'; //this does not appear to have any negative side effects\n            newStyle.transition = origTransition + 'transform 0s';\n            newStyle.transformOrigin = calcTransformOrigin(isTextNode, newTextRect, newRect);\n            newStyle.opacity = '0';\n            newStyle.transform = origTransform + 'translate(' + dx + 'px, ' + dy + 'px) ' +\n                'scale(' + 1 / wRatio + ', ' + 1 / hRatio + ')';\n            setNextFrame(newStyle, 'transition', origTransition);\n            setNextFrame(newStyle, 'transform', origTransform);\n            setNextFrame(newStyle, 'opacity', '1');\n            // Animate old element\n            for (var key in oldVnode.savedStyle) {\n                if (parseInt(key) != key) {\n                    var ms = key.substring(0, 2) === 'ms';\n                    var moz = key.substring(0, 3) === 'moz';\n                    var webkit = key.substring(0, 6) === 'webkit';\n                    if (!ms && !moz && !webkit)\n                        oldStyle[key] = oldVnode.savedStyle[key];\n                }\n            }\n            oldStyle.position = 'absolute';\n            oldStyle.top = oldRect.top + 'px'; //start at existing position\n            oldStyle.left = oldRect.left + 'px';\n            oldStyle.width = oldRect.width + 'px'; //Needed for elements who were sized relative to their parents\n            oldStyle.height = oldRect.height + 'px'; //Needed for elements who were sized relative to their parents\n            oldStyle.margin = '0'; //Margin on hero element leads to incorrect positioning\n            oldStyle.transformOrigin = calcTransformOrigin(isTextNode, oldTextRect, oldRect);\n            oldStyle.transform = '';\n            oldStyle.opacity = '1';\n            document.body.appendChild(oldElm);\n            setNextFrame(oldStyle, 'transform', 'translate(' + -dx + 'px, ' + -dy + 'px) scale(' + wRatio + ', ' + hRatio + ')'); //scale must be on far right for translate to be correct\n            setNextFrame(oldStyle, 'opacity', '0');\n            oldElm.addEventListener('transitionend', function (ev) {\n                if (ev.propertyName === 'transform')\n                    document.body.removeChild(ev.target);\n            });\n        }\n    }\n    removed = created = undefined;\n}\nexports.heroModule = { pre: pre, create: create, destroy: destroy, post: post };\nexports.default = exports.heroModule;\n//# sourceMappingURL=hero.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function (fn) { raf(function () { raf(fn); }); };\nfunction setNextFrame(obj, prop, val) {\n    nextFrame(function () { obj[prop] = val; });\n}\nfunction updateStyle(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldStyle = oldVnode.data.style, style = vnode.data.style;\n    if (!oldStyle && !style)\n        return;\n    if (oldStyle === style)\n        return;\n    oldStyle = oldStyle || {};\n    style = style || {};\n    var oldHasDel = 'delayed' in oldStyle;\n    for (name in oldStyle) {\n        if (!style[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.removeProperty(name);\n            }\n            else {\n                elm.style[name] = '';\n            }\n        }\n    }\n    for (name in style) {\n        cur = style[name];\n        if (name === 'delayed' && style.delayed) {\n            for (var name2 in style.delayed) {\n                cur = style.delayed[name2];\n                if (!oldHasDel || cur !== oldStyle.delayed[name2]) {\n                    setNextFrame(elm.style, name2, cur);\n                }\n            }\n        }\n        else if (name !== 'remove' && cur !== oldStyle[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.setProperty(name, cur);\n            }\n            else {\n                elm.style[name] = cur;\n            }\n        }\n    }\n}\nfunction applyDestroyStyle(vnode) {\n    var style, name, elm = vnode.elm, s = vnode.data.style;\n    if (!s || !(style = s.destroy))\n        return;\n    for (name in style) {\n        elm.style[name] = style[name];\n    }\n}\nfunction applyRemoveStyle(vnode, rm) {\n    var s = vnode.data.style;\n    if (!s || !s.remove) {\n        rm();\n        return;\n    }\n    var name, elm = vnode.elm, i = 0, compStyle, style = s.remove, amount = 0, applied = [];\n    for (name in style) {\n        applied.push(name);\n        elm.style[name] = style[name];\n    }\n    compStyle = getComputedStyle(elm);\n    var props = compStyle['transition-property'].split(', ');\n    for (; i < props.length; ++i) {\n        if (applied.indexOf(props[i]) !== -1)\n            amount++;\n    }\n    elm.addEventListener('transitionend', function (ev) {\n        if (ev.target === elm)\n            --amount;\n        if (amount === 0)\n            rm();\n    });\n}\nexports.styleModule = {\n    create: updateStyle,\n    update: updateStyle,\n    destroy: applyDestroyStyle,\n    remove: applyRemoveStyle\n};\nexports.default = exports.styleModule;\n//# sourceMappingURL=style.js.map","import vnode from '../libs/vnode';\nimport isPlaneObject from '../libs/is-plane-object';\nimport { init } from 'snabbdom';\nimport { classModule } from 'snabbdom/modules/class';\nimport { datasetModule } from 'snabbdom/modules/dataset';\nimport attributes from './attributes';\nimport props from './props';\nimport { heroModule } from 'snabbdom/modules/hero';\nimport { styleModule } from 'snabbdom/modules/style';\nimport eventListenersModule from '../libs/eventlisteners';\n\n\n\nvar startTime;\nvar lastMeasure;\nvar startMeasure = function(name) {\n    startTime = performance.now();\n    lastMeasure = name;\n}\nvar stopMeasure = function() {\n    var last = lastMeasure;\n    if (lastMeasure) {\n        window.setTimeout(function() {\n            lastMeasure = null;\n            var stop = performance.now();\n            var duration = 0;\n            console.log(last + \" took \" + (stop - startTime));\n        }, 0);\n    }\n}\n\nfunction _random(max) {\n    return Math.round(Math.random() * 1000) % max;\n}\n\nconst buildData = (count = 1000) => {\n    let id = 0;\n    var adjectives = [\"pretty\", \"large\", \"big\", \"small\", \"tall\", \"short\", \"long\", \"handsome\", \"plain\", \"quaint\", \"clean\", \"elegant\", \"easy\", \"angry\", \"crazy\", \"helpful\", \"mushy\", \"odd\", \"unsightly\", \"adorable\", \"important\", \"inexpensive\", \"cheap\", \"expensive\", \"fancy\"];\n    var colours = [\"red\", \"yellow\", \"blue\", \"green\", \"pink\", \"brown\", \"purple\", \"brown\", \"white\", \"black\", \"orange\"];\n    var nouns = [\"table\", \"chair\", \"house\", \"bbq\", \"desk\", \"car\", \"pony\", \"cookie\", \"sandwich\", \"burger\", \"pizza\", \"mouse\", \"keyboard\"];\n    var data = [];\n    for (var i = 0; i < count; i++)\n        data.push({ id, label: adjectives[_random(adjectives.length)] + \" \" + colours[_random(colours.length)] + \" \" + nouns[_random(nouns.length)] });\n    return data;\n}\n\n\n\n\nconst isString = value => typeof value === 'string';\nconst isPrimitive = value => isString(value) || typeof value === 'number';\nconst isFunction = value => typeof value === 'function';\nconst isElement = value => value instanceof Element;\n\n// Internal storage API\nconst $$$store = { modules: {} };\n\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\n\n\nconst attributeHas = (key, prop) => prop.some(attribute => key.indexOf(attributeHas) >= 0);\n\n\n// \"use strict\";\n\n// function vnode(sel, data, children, text, elm) {\n//     var key = data === undefined ? undefined : data.key;\n//     return {\n//         sel: sel,\n//         data: data,\n//         children: children,\n//         text: text,\n//         elm: elm,\n//         key: key\n//     };\n// }\n// export default vnode;\n\nnode('primitive', count, id, childNodes[i]);\n/** \n * @param {string} t - Text \n * @param {Number} id - Identity (Not an attribute)\n * @param {Number} ix - Index \n * @param {Object|string} at - Attributes | Primative\n * @param {Array} ch - Children \n */\nconst node = (t, id, at, ch, isSVG) => {\n    switch (t) {\n        case 'primitive':\n            return { t: 'TEXT', id, val: at };\n        case 'comment':\n            return { t: 'COM', id, val: at };\n        default:\n            return isSVG ? {\n                t,\n                id,\n                at,\n                chx: ch.length,\n                ch,\n                svg: true\n            } : {\n                t,\n                id,\n                at,\n                chx: ch.length,\n                ch\n            };\n    }\n}\n\nlet count = 0;\nlet currentTree;\n\n/** \n Assembly is the mechanics of the tag functions. \n A Wavefront template is a set of nested functions\n which act similar to recursion. \n\n The deepest nested tag of the youngest index is\n the first executed tag function.\n\n\n**/\nconst assembly = (tagName, isSVG) => {\n\n    return function inner(...args) {\n        let tagNameStr = `${tagName}`;\n        let selectorName = tagName;\n        let attributes;\n        let item;\n        let textNode;\n        let childNodes = [];\n        let i;\n        let children;\n        let text;\n\n        for (i = 0; i < args.length; i++) {\n            item = args[i] || {};\n            let isItemObject = isPlaneObject(item);\n            let isItemVnode = item.hasOwnProperty('t');\n\n            // Check if item is a plane object = attribute.\n            if (isItemObject && !isItemVnode) {\n                // let isSelector = false;\n                attributes = item;\n                continue;\n            }\n\n\n            // Check if item is an array = group of child elements.\n            if (Array.isArray(item)) {\n                childNodes = [...childNodes, ...item];\n                continue;\n            }\n\n            // check if item is not an object, array or function = child element.\n            if (isItemObject && isItemVnode || isPrimitive) {\n                childNodes.push(item);\n                continue;\n            }\n        }\n\n\n\n        for (i = 0; i < childNodes.length; ++i) {\n            const childNode = childNodes[i];\n            if (isPrimitive(childNode)) {\n                let type;\n                let value;\n                if (childNode[0] === '@') {\n                    type = 'comment';\n                    value = childNode.slice(1)\n                } else {\n                    type = 'primitive';\n                    value = childNode;\n                }\n                count++;\n                childNodes[i] = node(type, count, value, null, isSVG);\n            }\n        }\n\n        count++;\n        // Update child nodes with parentId\n        for (i = 0; i < childNodes.length; ++i) {\n            childNodes[i].pid = count;\n            childNodes[i].ix = i;\n        }\n\n        // if (selectorName[0] === 's' && selectorName[1] === 'v' && selectorName[2] === 'g' &&\n        //     (selectorName.length === 3 || selectorName[3] === '.' || selectorName[3] === '#')) {\n        //     addNS(attributes, childNodes, selectorName);\n        // }\n\n        // console.log('currentTree',currentTree)\n        // console.log('attributes', attributes)\n        return node(tagNameStr, count, attributes, childNodes, isSVG);\n    }\n}\n\n\n\n\n// HTML Elements.\nexport const a = assembly('a');\nexport const abbr = assembly('abbr');\nexport const address = assembly('address');\nexport const area = assembly('area');\nexport const article = assembly('article');\nexport const aside = assembly('aside');\nexport const audio = assembly('audio');\nexport const childNodes = assembly('childNodes');\nexport const base = assembly('base');\nexport const bdi = assembly('bdi');\nexport const bdo = assembly('bdo');\nexport const blockquote = assembly('blockquote');\nexport const body = assembly('body');\nexport const br = assembly('br');\nexport const button = assembly('button');\nexport const canvas = assembly('canvas');\nexport const caption = assembly('caption');\nexport const cite = assembly('cite');\nexport const code = assembly('code');\nexport const col = assembly('col');\nexport const colgroup = assembly('colgroup');\nexport const command = assembly('command');\nexport const dd = assembly('dd');\nexport const del = assembly('del');\nexport const dfn = assembly('dfn');\nexport const div = assembly('DIV');\nexport const dl = assembly('dl');\nexport const doctype = assembly('doctype');\nexport const dt = assembly('dt');\nexport const em = assembly('em');\nexport const embed = assembly('embed');\nexport const fieldset = assembly('fieldset');\nexport const figcaption = assembly('figcaption');\nexport const figure = assembly('figure');\nexport const footer = assembly('footer');\nexport const form = assembly('form');\nexport const h1 = assembly('h1');\nexport const h2 = assembly('h2');\nexport const h3 = assembly('h3');\nexport const h4 = assembly('h4');\nexport const h5 = assembly('h5');\nexport const h6 = assembly('h6');\nexport const header = assembly('header');\nexport const hgroup = assembly('hgroup');\nexport const hr = assembly('hr');\nexport const html = assembly('html');\nexport const i = assembly('i');\nexport const iframe = assembly('iframe');\nexport const img = assembly('img');\nexport const input = assembly('input');\nexport const ins = assembly('ins');\nexport const kbd = assembly('kbd');\nexport const keygen = assembly('keygen');\nexport const label = assembly('label');\nexport const legend = assembly('legend');\nexport const li = assembly('li');\nexport const link = assembly('link');\nexport const map = assembly('map');\nexport const mark = assembly('mark');\nexport const menu = assembly('menu');\nexport const meta = assembly('meta');\nexport const nav = assembly('nav');\nexport const noscript = assembly('noscript');\nexport const object = assembly('object');\nexport const ol = assembly('ol');\nexport const optgroup = assembly('optgroup');\nexport const option = assembly('option');\nexport const p = assembly('p');\nexport const param = assembly('param');\nexport const pre = assembly('pre');\nexport const progress = assembly('progress');\nexport const q = assembly('q');\nexport const rp = assembly('rp');\nexport const rt = assembly('rt');\nexport const ruby = assembly('ruby');\nexport const s = assembly('s');\nexport const samp = assembly('samp');\nexport const script = assembly('script');\nexport const section = assembly('section');\nexport const select = assembly('select');\nexport const small = assembly('small');\nexport const source = assembly('source');\nexport const span = assembly('span');\nexport const strong = assembly('strong');\nexport const style = assembly('style');\nexport const sub = assembly('sub');\nexport const sup = assembly('sup');\nexport const table = assembly('table');\nexport const tbody = assembly('tbody');\nexport const td = assembly('td');\nexport const textarea = assembly('textarea');\nexport const tfoot = assembly('tfoot');\nexport const th = assembly('th');\nexport const thead = assembly('thead');\nexport const title = assembly('title');\nexport const tr = assembly('tr');\nexport const ul = assembly('ul');\nexport const Var = assembly('var'); // First capital\nexport const video = assembly('video');\n\n// SVG Elements.\nexport const svg = assembly('svg', true);\nexport const altGlyph = assembly('altGlyph', true);\nexport const altGlyphDef = assembly('altGlyphDef', true);\nexport const altGlyphItem = assembly('altGlyphItem', true);\nexport const animate = assembly('animate');\nexport const animateColor = assembly('animateColor', true);\nexport const animateMotion = assembly('animateMotion', true);\nexport const animateTransform = assembly('animateTransform', true);\nexport const animation = assembly('animation', true);\nexport const circle = assembly('circle', true);\nexport const clipPath = assembly('clipPath', true);\nexport const colorProfile = assembly('color-profile', true); // color-profile\nexport const cursor = assembly('cursor', true);\nexport const defs = assembly('defs', true);\nexport const desc = assembly('desc', true);\nexport const discard = assembly('discard', true);\nexport const ellipse = assembly('ellipse', true);\nexport const feBlend = assembly('feBlend', true);\nexport const feColorMatrix = assembly('feComposite', true);\nexport const feComponentTransfer = assembly('feComponentTransfer', true);\nexport const feComposite = assembly('feComposite', true);\nexport const feConvolveMatrix = assembly('feConvolveMatrix', true);\nexport const feDiffuseLighting = assembly('feDiffuseLighting', true);\nexport const feDisplacementMap = assembly('feDistantLight', true);\nexport const feDistantLight = assembly('feDistantLight', true);\nexport const feDropShadow = assembly('feDropShadow', true);\nexport const feFlood = assembly('feFlood', true);\nexport const feFuncA = assembly('feFuncA', true);\nexport const feFuncB = assembly('feFuncB', true);\nexport const feFuncG = assembly('feFuncG', true);\nexport const feFuncR = assembly('feFuncR', true);\nexport const feGaussianBlur = assembly('feGaussianBlur', true);\nexport const feImage = assembly('feImage', true);\nexport const feMerge = assembly('feMerge', true);\nexport const feMergeNode = assembly('feMergeNode', true);\nexport const feMorphology = assembly('feMorphology', true);\nexport const feOffset = assembly('feOffset', true);\nexport const fePointLight = assembly('fePointLight', true);\nexport const feSpecularLighting = assembly('feSpecularLighting', true);\nexport const feSpotLight = assembly('feSpotLight', true);\nexport const feTile = assembly('feTile', true);\nexport const feTurbulence = assembly('feTurbulence', true);\nexport const filter = assembly('filter', true);\nexport const font = assembly('font', true);\nexport const fontFace = assembly('font-face', true); // fontFace\nexport const fontFaceFormat = assembly('font-face-format', true); // fontFaceFormat\nexport const fontFaceName = assembly('font-face-name', true); // fontFaceName\nexport const fontFaceSrc = assembly('font-face-src', true); // fontFaceSrc\nexport const fontFaceUri = assembly('font-face-uri', true); // fontFaceUri\nexport const foreignObject = assembly('foreignObject', true);\nexport const g = assembly('g', true);\nexport const glyph = assembly('glyph', true);\nexport const glyphRef = assembly('glyphRef', true);\nexport const handler = assembly('handler', true);\nexport const hatch = assembly('hatch', true);\nexport const hatchpath = assembly('hatchpath', true);\nexport const hkern = assembly('hkern', true);\nexport const image = assembly('image', true);\nexport const line = assembly('line', true);\nexport const linearGradient = assembly('linearGradient', true);\nexport const listener = assembly('listener');\nexport const marker = assembly('marker', true);\nexport const mask = assembly('mask', true);\nexport const mesh = assembly('mesh', true);\nexport const meshgradient = assembly('meshgradient', true);\nexport const meshpatch = assembly('meshpatch', true);\nexport const meshrow = assembly('meshrow', true);\nexport const metadata = assembly('metadata', true);\nexport const missingGlyph = assembly('missing-glyph', true); // missing-glyph\nexport const mpath = assembly('mpath', true);\nexport const path = assembly('path', true);\nexport const pattern = assembly('pattern', true);\nexport const polygon = assembly('polygon', true);\nexport const polyline = assembly('polyline', true);\nexport const prefetch = assembly('prefetch', true);\nexport const radialGradient = assembly('radialGradient', true);\nexport const rect = assembly('rect', true);\nexport const set = assembly('set', true);\nexport const solidColor = assembly('solidColor', true);\nexport const solidcolor = assembly('solidcolor', true);\nexport const Stop = assembly('stop', true); // First capital\nexport const Switch = assembly('switch', true); // First capital\nexport const symbol = assembly('symbol', true);\nexport const tbreak = assembly('tbreak', true);\nexport const text = assembly('text', true);\nexport const textArea = assembly('textArea', true);\nexport const textPath = assembly('textPath', true);\nexport const tref = assembly('tref', true);\nexport const tspan = assembly('tspan', true);\nexport const unknown = assembly('unknown', true);\nexport const use = assembly('use', true);\nexport const view = assembly('view', true);\nexport const vkern = assembly('vkern', true);\n\n/** \n * or is used when you explicitly want the to inidicate\n * a condition is being made in the template. \n * @param {Array} vNodes - An array of vNodes \n * @param {Number|Array} switch - A number or series of inidcators (as an array) of what elements to display.\n * @exclude {Boolean} exclude - \n * \n */\nexport const or = (vNodes, $witch, exclude) => {\n    const includeVNodes = [];\n    const includeIndexes = [];\n\n\n    // Return the vNode of a given index.\n    if (typeof $witch === 'number') {\n        return vNodes[$witch];\n    }\n\n    // Treat toggle as an array. \n    const toggle = typeof $witch === 'string' ? [$witch] : $witch;\n\n\n    // If toggle is not an array or empty do nothing.\n    if (!Array.isArray(toggle) || toggle.length === 0) {\n        return vNodes;\n    }\n\n\n    const classes = toggle.filter(e => e.indexOf('.') > -1);\n    const ids = toggle.filter(e => e.indexOf('#') === 0);\n    const tags = toggle.filter(e => /^[a-z0-9]+$/i.test(e));\n    const numberOfChildren = toggle.filter(e => e.indexOf('~') === 0);\n    const indexes = toggle.filter(e => typeof e === 'number');\n       \n    for (let i = 0; i < vNodes.length; i++) {\n\n        const vNode = vNodes[i];\n        const attribute = vNode.at;\n\n        // Check class\n        if (classes.length > 0) {\n            classes.forEach(c => {\n                if (attribute.class.includes(c.slice(1))) {\n                    includeIndexes.push(i);\n                }\n            });\n        }\n\n        // Check ids\n        if (ids.length > 0) {\n            ids.forEach(c => {\n                if (attribute.id === c.slice(1)) {\n                    includeIndexes.push(i);\n                }\n            });\n        }\n\n\n        // Check tags\n        if (tags.length > 0) {\n            tags.forEach(c => {\n                if (vNode.t.toUpperCase() === c.toUpperCase()) {\n                    includeIndexes.push(i);\n                }\n            });\n        }\n\n        // Check numberOfChildren\n        if (numberOfChildren.length > 0) {\n            numberOfChildren.forEach(x => {\n               const childrenLength = vNode.ch.filter(c => c.t !== 'TEXT' && c.t !== 'COM').length\n                console.log('childrenLength',childrenLength)\n                if (childrenLength == x.slice(1)) {\n                    includeIndexes.push(i);\n                }\n            });\n        }\n    }\n    console.log('includeIndexes', includeIndexes)\n    // Remove duplicates\n    const indexList = [...(new Set(includeIndexes))];\n\n    console.log('indexList', indexList)\n    if (exclude === true) {\n        return vNodes.filter(function(item, i) {\n            return indexList.indexOf(i) === -1;\n        });\n\n    } else {\n        indexList.forEach(index => {\n            includeVNodes.push(vNodes[index])\n        })\n        return includeVNodes;\n    }\n}\n\n\n\n/** \n * or is used when you explicitly want the to inidicate\n * that an item is being looped by n times or via data\n * \n * @param {Object|Array} vNodes \n * @param {*} Data \n */\nexport const loop = (vNodes, data) => {\n    const singleVnode = isPlaneObject(vNodes);\n    const groupVnodes = Array.isArray(vNodes);\n    const hasNumber = typeof data === 'number';\n\n    let loopedVnodes = [];\n\n    if (hasNumber) {\n        // Single vnode looped by an integer.\n        if (singleVnode) {\n            for (let i = 0; i < data; i++) {\n                loopedVnodes.push(vNodes);\n            }\n        }\n\n        // Grouped vnode looped by an integer.\n        if (groupVnodes) {\n            for (let i = 0; i < data; i++) {\n                loopedVnodes.push(...vNodes);\n            }\n        }\n    } else {\n        if (typeof vNodes === 'function') {\n            loopedVnodes = vNodes(data)\n\n            if (!Array.isArray(loopedVnodes)) {\n                throw new Error('loop() should return an Array of vnodes');\n            }\n        }\n    }\n\n    console.log('loop', loopedVnodes)\n    return loopedVnodes;\n}\n\n// Render API\n// export const patch = init([\n//     classModule,\n//     props,\n//     attributes,\n//     heroModule,\n//     styleModule,\n//     datasetModule,\n//     eventListenersModule\n// ]);\n\n// const renderPartial = () => {\n//     let previousVNode;\n//     let DOMContainer;\n//     let selectorString;\n//     let documentRef = document;\n//     /**\n//      * @param {string | HTMLElement} selector - Root HTML element \n//      * @param {Object} newVNode - New virtual node\n//      * @param {Boolean} cache - Cache element, defaults to true.\n//      */\n//     return (selector, newVNode, cache) => {\n//         // Set HTML element.\n//         if (isString(selector)) {\n//             if (selector !== selectorString && !cache) {\n//                 DOMContainer = documentRef.querySelector(selector);\n//                 selectorString = selector;\n//             }\n//         } else if (isElement(selector) && !cache) {\n//             if (selector !== selectorString) {\n//                 DOMContainer = selector;\n//             }\n//         }\n\n\n//         // Diff and patch the DOM. \n//         if (!previousVNode) {\n//             patch(DOMContainer, newVNode);\n//         }\n//         if (previousVNode && previousVNode !== newVNode) {\n//             patch(previousVNode, newVNode);\n//         }\n//         previousVNode = newVNode;\n//     }\n// }\n\n// export const render = renderPartial();\n\n\n// const someUI = div({ class: 'side-bar', id: 'someId' }, [\n//     span({ class: 'wpefow', id: 'red' }, [\n//         'Dig vbar wefwef'\n//     ]),\n//     a({ class: 'wpefow', id: 'yellow' }, [\n//         23984729\n//     ]),\n// ])\n\n// console.log('DATA', buildData(10000))\n\n// var rows = this.rows,\n//     s_data = this.store.data,\n//     data = this.data,\n//     tbody = this.tbody;\n// for (let i = rows.length; i < s_data.length; i++) {\n//     let tr = this.createRow(s_data[i]);\n//     rows[i] = tr;\n//     data[i] = s_data[i];\n//     tbody.appendChild(tr);\n// }\nlet thing = [];\nconst lotsData = buildData(10000);\n\n// console.log(lotsData[0])\n// for (let i = 0; i < lotsData.length; i++) {\n//     // console.log(i)\n//     const dat = lotsData[i];\n//     thing.push(\n//         tr({ class: 'menu-item' }, [\n//             td({ class: 'col-md-1' },\n//                 dat.id\n//             ),\n//             td({ class: 'col-md-4' },\n//                 a({ class: 'lbl' }, dat.label)\n//             ),\n//             td({ class: 'col-md-1' },\n//                 a({ class: 'remove' },\n//                     span({\n//                         class: 'glyphicon glyphicon-remove remove'\n//                     })\n//                 )\n//             ),\n//             td({ class: 'col-md-6' })\n//         ]))\n// }\n// console.log('thing',thing)\n\n\nconst responseData = [\n    'I\\'m fine how are you?',\n    'Not bad thanks',\n    'La La La',\n    'I am well thank you',\n    'Excusemoi'\n];\nconst responseList = data => {\n    return data.map((response, i) =>\n        span({\n                style: {\n                    'color': `rgb(${parseInt(i * 50,10)},${255},${parseInt(500 /i,10)})`,\n                    display: 'block'\n                }\n            },\n            response\n        )\n    )\n}\n\n\nconst twitterHref = 'http://google.com';\nconst facebookHref = 'http://facebook.com';\nconst someUI = [\n    div({ id: 'block-social-responsive', class: 'footer__social' },\n        ul({ class: 'menu' },\n            li({ class: 'menu-item' },\n                a({ href: twitterHref, class: 'icon-twitter', target: '_blank' },\n                    'TWITTER'\n                )\n            ),\n            li({ class: 'menu-item' },\n                a({\n                        href: facebookHref,\n                        class: 'icon-fb',\n                        target: '_blank',\n                        _innerHTML: 'HELOOOOOOO',\n                        // event: ['mouseover', (e) => { console.log('THIS ELEMENT', e.target) }, false],\n                        $: { backgroundColor: 'red', color: 'yellow' },\n                        'd-foijfwoeifjw': 2000000000,\n                        name: 'jack'\n                    },\n                    'FACEBOOK'\n                )\n            ),\n            or([\n                div({ class: 'hello', id: 'yeaa' }, 'HELLO'),\n                div({ class: 'foo' }, 'FOO'),\n                a({ class: 'bar', id: 'yeaa' },\n                    h1('This is H TAG 1'),\n                    h2('This is H TAG 2'),\n                    'BAR'\n                ),\n                div({ class: 'baz' }, 'BAZ'),\n                section({ class: 'hello' },\n                    h1('This is H TAG 1'),\n                    h2('This is H TAG 2'),\n                ),\n                section({ class: 'world' }, 'WORLD'),\n            ], ['~2','.world'], true),\n            // Without variables...\n            li({ class: 'menu-item' },\n                a({ href: 'https://www.linkedin.com/company/208777', class: 'icon-in', target: '_blank' },\n                    'Linkedin'\n                ),\n                `@This is a single line comment`\n            ),\n            loop(li({ style: { backgroundColor: 'pink', fontSize: 20 } }, 'HELLO WORLD'), 5),\n            loop(responseList, responseData),\n        )\n    ),\n    section({ id: 'blah', class: 'wefw' }, 'TEST SECTION'),\n    svg({ height: 150, width: 400 },\n        defs(\n            linearGradient({ id: 'grad1', x1: '0%', y1: '0%', x2: '0%', y2: '100%' },\n                Stop({ offset: '0%', style: { 'stop-color': 'rgb(255,0,0)', 'stop-opacity': 1 } }),\n                Stop({ offset: '100%', style: { 'stop-color': 'rgb(255,255,0)', 'stop-opacity': 1 } })\n            )\n        ),\n        ellipse({ cx: 200, cy: 70, rx: 85, ry: 55, fill: 'url(#grad1)' }),\n        'Sorry, your browser does not support inline SVG.'\n    ),\n    `@This is a single line comment`, // not working\n    // tbody({ id: 'tbody' }, thing)\n    // loop(div('HELLO WORLD'), 20),\n    // [div('HELLO WORLD'),\n    // div('HELLO WORLD'),\n    // div('HELLO WORLD')]\n];\n\n\nconst createAndAppendNode = (fragment, node) => {\n    console.log('node', node)\n    // TEXT_NODE        3\n    if (node.t === 'TEXT') {\n        const textNode = document.createTextNode(node.val);\n        fragment.appendChild(textNode);\n        return;\n    }\n    // COMMENT_NODE     8\n    if (node.t === 'COM') {\n        const commentNode = document.createComment(node.val);\n        fragment.appendChild(commentNode);\n        return;\n    }\n\n    // ELEMENT_NODE     1\n    const element = node.svg ? document.createElementNS('http://www.w3.org/2000/svg', node.t) : document.createElement(node.t);\n\n    // Add attributes\n    if (node.at) {\n        const attributes = node.at;\n        const attributeKeys = Object.keys(attributes);\n        const attributesLength = attributeKeys.length;\n\n        for (let i = 0; i < attributesLength; i++) {\n\n            const attributeKey = attributeKeys[i];\n\n            // Standard dataset syntax.\n            if (attributeKey.indexOf('data-') === 0) {\n                const dataKey = attributeKey.replace('data-', '');\n                element.dataset[dataKey] = attributes[attributeKey];\n                continue;\n            }\n            // Shorthand dataset syntax.\n            if (attributeKey.indexOf('d-') === 0) {\n                const dataKey = attributeKey.replace('d-', '');\n                element.dataset[dataKey] = attributes[attributeKey];\n                continue;\n            }\n            // Props: _\n            if (attributeKey[0] === '_') {\n                const cleanKey = attributeKey.replace('_', '');\n                element[cleanKey] = attributes[attributeKey];\n                continue;\n            }\n\n            switch (attributeKey) {\n                case 'e':\n                case 'event':\n                    element.addEventListener(...attributes[attributeKey]);\n                    break;\n                case '$':\n                case 'style':\n                    Object.assign(element.style, attributes[attributeKey]);\n                    break;\n                case 'c':\n                case 'class':\n                    element.className = attributes.class;\n                    break;\n                default:\n                    element.setAttribute(attributeKey, attributes[attributeKey]);\n                    break;\n            }\n        }\n    }\n\n    // Add children\n    fragment.appendChild(element);\n\n    if (Array.isArray(node.ch)) {\n        node.ch.forEach(childNode => {\n            createAndAppendNode(element, childNode)\n        });\n    }\n}\n\n\nconst renderPartial = (selector) => {\n    const container = document.querySelector(selector);\n    const fragment = document.createDocumentFragment();\n    return (newNode, cache) => {\n        count = 0; // reset counter used for node ids.\n        // 1st render.\n        // container\n        if (cache === undefined) {\n            if (Array.isArray(newNode)) {\n                // Group of elements \n                for (let i = 0; i < newNode.length; i++) {\n                    const currentNewNode = newNode[i]\n                    // console.log('currentNewNode', currentNewNode)\n                    /*\n                        We are not handeling string and comment nodes in \n                        an group. This needs to be handeled.\n\n                    */\n\n\n                    createAndAppendNode(fragment, currentNewNode);\n                }\n\n                console.log('FINISHED', fragment)\n            } else {\n                // Wrapped element\n            }\n            requestAnimationFrame(() => {\n                container.appendChild(fragment)\n\n                /** \n                   Static Rendering:\n                   This will generate the inital state\n                   of the HTML as a string. headers \n                   and other content can be generated \n                   from the front side or modified on the\n                   back end...\n                **/\n                // const staticRender = container.outerHTML;\n                // console.log(staticRender)\n            });\n\n\n\n        }\n    }\n}\n\n\ndocument.addEventListener('click', () => {\n    startMeasure('Wavefront')\n    const render = renderPartial('#root');\n    render(someUI);\n    stopMeasure()\n}, false)\n\n\n// console.log(someUI)\n// render(\n//     document.getElementById('root'),\n//     someUI\n//     )\n\n\n\n\n// /**\n//  * A simple plugin integration system.\n//  * {\n//  *      dependencies:[api, api, api],\n//  *      waveModules: [wModule, wModule, wModule]\n//  * }\n//  *\n//  */\n\n// export const registerModules = (plugins) => {\n//     // Register dependencies \n//     $$$store.dependencies = plugins.dependencies\n//         // Register waveModules\n//     $$$store.waveModules = plugins.waveModules\n//         // Check dependenicies exist for waveModules\n//     $$$store.waveModules.forEach((waveObject, i) =>\n//         $$$store.modules[$$$store.waveModules[i].name] = (...args) =>\n//         waveObject(...args).plugin($$$store, waveObject().dependencies)\n//     );\n//     // return $$$store.modules;\n// }\n\n// export const modules = $$$store.modules;\n\n\n\n\n\n\n\n\n/*******\n @ Issue with Array.isArray polyfill, when using event prop.\n\n**/"],"names":["objectTag","freeGlobal","global","Object","freeSelf","self","root","Function","overArg","func","transform","arg","funcProto","prototype","objectProto","funcToString","toString","hasOwnProperty","objectCtorString","call","objectToString","getPrototype","getPrototypeOf","isObjectLike","value","isPlainObject","proto","Ctor","constructor","lodash","defineProperty","exports","vnode","sel","data","children","text","elm","key","undefined","Array","isArray","primitive","s","createElement","tagName","document","createElementNS","namespaceURI","qualifiedName","createTextNode","createComment","insertBefore","parentNode","newNode","referenceNode","removeChild","node","child","appendChild","nextSibling","setTextContent","textContent","getTextContent","isElement","nodeType","isText","isComment","htmlDomApi","addNS","ns","i","length","childData","h","b","c","is","array","vnode_1","copyToThunk","thunk","fn","args","init","cur","apply","prepatch","oldVnode","old","oldArgs","h_1","isUndef","isDef","emptyNode","default","sameVnode","vnode1","vnode2","isVnode","createKeyToOldIdx","beginIdx","endIdx","map","ch","hooks","thunk_1","modules","domApi","j","cbs","api","htmldomapi_1","hook","push","emptyNodeAt","id","className","split","join","toLowerCase","createRmCb","childElm","listeners","rmCb","parent_1","createElm","insertedVnodeQueue","hashIdx","indexOf","dotIdx","hash","dot","tag","slice","Math","min","setAttribute","replace","create","insert","addVnodes","parentElm","before","vnodes","startIdx","invokeDestroyHook","destroy","removeVnodes","i_1","rm","remove","updateChildren","oldCh","newCh","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","patchVnode","update","postpatch","patch","parent","pre","post","updateClass","name","oldClass","class","klass","classList","classModule","CAPS_REGEX","updateDataset","oldDataset","dataset","d","removeAttribute","datasetModule","booleanAttrs","booleanAttrsDict","len","raf","window","requestAnimationFrame","setTimeout","nextFrame","setNextFrame","obj","prop","val","getTextNodeRect","textNode","rect","createRange","range","selectNodeContents","getBoundingClientRect","calcTransformOrigin","isTextNode","textRect","boundingRect","relativeCenterX","left","width","relativeCenterY","top","height","getTextDx","oldTextRect","newTextRect","getTextDy","isTextElement","childNodes","removed","created","hero","computedStyle","getComputedStyle","savedStyle","JSON","parse","stringify","newElm","oldElm","hRatio","wRatio","oldRect","newRect","dx","dy","origTransform","origTransition","newStyle","oldStyle","newComputedStyle","style","max","transition","display","transformOrigin","opacity","parseInt","ms","substring","moz","webkit","position","margin","body","addEventListener","ev","propertyName","target","heroModule","updateStyle","oldHasDel","removeProperty","delayed","name2","setProperty","applyDestroyStyle","applyRemoveStyle","compStyle","amount","applied","props","styleModule","startTime","lastMeasure","startMeasure","performance","now","stopMeasure","last","stop","duration","log","_random","round","random","buildData","count","adjectives","colours","nouns","label","isString","isPrimitive","t","at","isSVG","assembly","inner","tagNameStr","selectorName","attributes","item","isItemObject","isPlaneObject","isItemVnode","childNode","type","pid","ix","a","abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","command","dd","del","dfn","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","legend","li","link","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","progress","q","rp","rt","ruby","samp","script","section","select","small","source","span","strong","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","ul","Var","video","svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","animation","circle","clipPath","colorProfile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","handler","hatch","hatchpath","hkern","image","line","linearGradient","listener","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","prefetch","radialGradient","set","solidColor","solidcolor","Stop","Switch","symbol","tbreak","textArea","textPath","tref","tspan","unknown","use","view","vkern","or","vNodes","$witch","exclude","includeVNodes","includeIndexes","toggle","classes","e","ids","tags","test","numberOfChildren","indexes","vNode","attribute","forEach","includes","toUpperCase","childrenLength","x","indexList","Set","index","loop","singleVnode","groupVnodes","hasNumber","loopedVnodes","Error","lotsData","responseData","responseList","response","twitterHref","facebookHref","someUI","href","backgroundColor","color","fontSize","x1","y1","x2","y2","offset","cx","cy","rx","ry","fill","createAndAppendNode","fragment","commentNode","element","attributeKeys","keys","attributesLength","attributeKey","dataKey","cleanKey","assign","renderPartial","selector","container","querySelector","createDocumentFragment","cache","currentNewNode","render"],"mappings":"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"}