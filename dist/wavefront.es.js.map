{"version":3,"file":"wavefront.es.js","sources":["../libs/vnode.js","../libs/is-plane-object.js","../node_modules/snabbdom/src/vnode.ts","../node_modules/snabbdom/src/is.ts","../node_modules/snabbdom/src/htmldomapi.ts","../node_modules/snabbdom/src/h.ts","../node_modules/snabbdom/src/thunk.ts","../node_modules/snabbdom/src/snabbdom.ts","../node_modules/snabbdom/src/modules/class.ts","../src/attributes.js","../src/props.js","../node_modules/snabbdom/src/modules/hero.ts","../node_modules/snabbdom/src/modules/style.ts","../libs/eventlisteners.js","../src/index.js"],"sourcesContent":["\"use strict\";\nfunction vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexport default vnode;\n","/**\n * @license\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash include=\"isPlainObject\" -o isPlainObject.js`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n// ;(function() {\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.16.4';\n\n  /** `Object#toString` result references. */\n  var objectTag = '[object Object]';\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /** Used for built-in method references. */\n  var funcProto = Function.prototype,\n      objectProto = Object.prototype;\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to infer the `Object` constructor. */\n  var objectCtorString = funcToString.call(Object);\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString = objectProto.toString;\n\n  /** Built-in value references. */\n  var Symbol = root.Symbol,\n      getPrototype = overArg(Object.getPrototypeOf, Object);\n\n  /** Used to lookup unminified function names. */\n  var realNames = {};\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps `value` to enable implicit method\n   * chain sequences. Methods that operate on and return arrays, collections,\n   * and functions can be chained together. Methods that retrieve a single value\n   * or may return a primitive value will automatically end the chain sequence\n   * and return the unwrapped value. Otherwise, the value must be unwrapped\n   * with `_#value`.\n   *\n   * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n   * enabled using `_.chain`.\n   *\n   * The execution of chained methods is lazy, that is, it's deferred until\n   * `_#value` is implicitly or explicitly called.\n   *\n   * Lazy evaluation allows several methods to support shortcut fusion.\n   * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n   * the creation of intermediate arrays and can greatly reduce the number of\n   * iteratee executions. Sections of a chain sequence qualify for shortcut\n   * fusion if the section is applied to an array of at least `200` elements\n   * and any iteratees accept only one argument. The heuristic for whether a\n   * section qualifies for shortcut fusion is subject to change.\n   *\n   * Chaining is supported in custom builds as long as the `_#value` method is\n   * directly or indirectly included in the build.\n   *\n   * In addition to lodash methods, wrappers have `Array` and `String` methods.\n   *\n   * The wrapper `Array` methods are:\n   * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n   *\n   * The wrapper `String` methods are:\n   * `replace` and `split`\n   *\n   * The wrapper methods that support shortcut fusion are:\n   * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n   * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n   * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n   *\n   * The chainable wrapper methods are:\n   * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n   * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n   * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n   * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n   * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n   * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n   * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n   * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n   * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n   * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n   * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n   * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n   * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n   * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n   * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n   * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n   * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n   * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n   * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n   * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n   * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n   * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n   * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n   * `zipObject`, `zipObjectDeep`, and `zipWith`\n   *\n   * The wrapper methods that are **not** chainable by default are:\n   * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n   * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n   * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n   * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n   * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n   * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n   * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n   * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n   * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n   * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n   * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n   * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n   * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n   * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n   * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n   * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n   * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n   * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n   * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n   * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n   * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n   * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n   * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n   * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n   * `upperFirst`, `value`, and `words`\n   *\n   * @name _\n   * @constructor\n   * @category Seq\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns the new `lodash` wrapper instance.\n   * @example\n   *\n   * function square(n) {\n   *   return n * n;\n   * }\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // Returns an unwrapped value.\n   * wrapped.reduce(_.add);\n   * // => 6\n   *\n   * // Returns a wrapped value.\n   * var squares = wrapped.map(square);\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash() {\n    // No operation performed.\n  }\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return value != null && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is a plain object, that is, an object created by the\n   * `Object` constructor or one with a `[[Prototype]]` of `null`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.8.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   * }\n   *\n   * _.isPlainObject(new Foo);\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'x': 0, 'y': 0 });\n   * // => true\n   *\n   * _.isPlainObject(Object.create(null));\n   * // => true\n   */\n  export default function isPlainObject(value) {\n    if (!isObjectLike(value) || objectToString.call(value) != objectTag) {\n      return false;\n    }\n    var proto = getPrototype(value);\n    if (proto === null) {\n      return true;\n    }\n    var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return (typeof Ctor == 'function' &&\n      Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n  }\n\n  /*------------------------------------------------------------------------*/\n\n  // Add methods that return unwrapped values in chain sequences.\n  lodash.isObjectLike = isObjectLike;\n  lodash.isPlainObject = isPlainObject;\n\n  /*------------------------------------------------------------------------*/\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type {string}\n   */\n  lodash.VERSION = VERSION;\n\n  /*--------------------------------------------------------------------------*/\n\n//   // Some AMD build optimizers, like r.js, check for condition patterns like:\n//   if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n//     // Expose Lodash on the global object to prevent errors when Lodash is\n//     // loaded by a script tag in the presence of an AMD loader.\n//     // See http://requirejs.org/docs/errors.html#mismatch for more details.\n//     // Use `_.noConflict` to remove Lodash from the global object.\n//     root._ = lodash;\n\n//     // Define as an anonymous module so, through path mapping, it can be\n//     // referenced as the \"underscore\" module.\n//     define(function() {\n//       return lodash;\n//     });\n//   }\n//   // Check for `exports` after `define` in case a build optimizer adds it.\n//   else if (freeModule) {\n//     // Export for Node.js.\n//     (freeModule.exports = lodash)._ = lodash;\n//     // Export for CommonJS support.\n//     freeExports._ = lodash;\n//   }\n//   else {\n//     // Export to the global object.\n//     root._ = lodash;\n//   }\n// }.call(this));\n","import {Hooks} from './hooks';\nimport {AttachData} from './helpers/attachto'\nimport {VNodeStyle} from './modules/style'\nimport {On} from './modules/eventlisteners'\nimport {Attrs} from './modules/attributes'\nimport {Classes} from './modules/class'\nimport {Props} from './modules/props'\nimport {Dataset} from './modules/dataset'\nimport {Hero} from './modules/hero'\n\nexport type Key = string | number;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  hero?: Hero;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: Array<any>; // for thunks\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(sel: string | undefined,\n                      data: any | undefined,\n                      children: Array<VNode | string> | undefined,\n                      text: string | undefined,\n                      elm: Element | Text | undefined): VNode {\n  let key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n}\n\nexport default vnode;\n","export const array = Array.isArray;\nexport function primitive(s: any): s is (string | number) {\n  return typeof s === 'string' || typeof s === 'number';\n}\n","export interface DOMAPI {\n  createElement: (tagName: any) => HTMLElement;\n  createElementNS: (namespaceURI: string, qualifiedName: string) => Element;\n  createTextNode: (text: string) => Text;\n  createComment: (text: string) => Comment;\n  insertBefore: (parentNode: Node, newNode: Node, referenceNode: Node | null) => void;\n  removeChild: (node: Node, child: Node) => void;\n  appendChild: (node: Node, child: Node) => void;\n  parentNode: (node: Node) => Node;\n  nextSibling: (node: Node) => Node;\n  tagName: (elm: Element) => string;\n  setTextContent: (node: Node, text: string | null) => void;\n  getTextContent: (node: Node) => string | null;\n  isElement: (node: Node) => node is Element;\n  isText: (node: Node) => node is Text;\n  isComment: (node: Node) => node is Comment;\n}\n\nfunction createElement(tagName: any): HTMLElement {\n  return document.createElement(tagName);\n}\n\nfunction createElementNS(namespaceURI: string, qualifiedName: string): Element {\n  return document.createElementNS(namespaceURI, qualifiedName);\n}\n\nfunction createTextNode(text: string): Text {\n  return document.createTextNode(text);\n}\n\nfunction createComment(text: string): Comment {\n  return document.createComment(text);\n}\n\nfunction insertBefore(parentNode: Node, newNode: Node, referenceNode: Node | null): void {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild(node: Node, child: Node): void {\n  node.removeChild(child);\n}\n\nfunction appendChild(node: Node, child: Node): void {\n  node.appendChild(child);\n}\n\nfunction parentNode(node: Node): Node | null {\n  return node.parentNode;\n}\n\nfunction nextSibling(node: Node): Node | null {\n  return node.nextSibling;\n}\n\nfunction tagName(elm: Element): string {\n  return elm.tagName;\n}\n\nfunction setTextContent(node: Node, text: string | null): void {\n  node.textContent = text;\n}\n\nfunction getTextContent(node: Node): string | null {\n  return node.textContent;\n}\n\nfunction isElement(node: Node): node is Element {\n  return node.nodeType === 1;\n}\n\nfunction isText(node: Node): node is Text {\n  return node.nodeType === 3;\n}\n\nfunction isComment(node: Node): node is Comment {\n  return node.nodeType === 8;\n}\n\nexport const htmlDomApi = {\n  createElement,\n  createElementNS,\n  createTextNode,\n  createComment,\n  insertBefore,\n  removeChild,\n  appendChild,\n  parentNode,\n  nextSibling,\n  tagName,\n  setTextContent,\n  getTextContent,\n  isElement,\n  isText,\n  isComment,\n} as DOMAPI;\n\nexport default htmlDomApi;\n","import {vnode, VNode, VNodeData} from './vnode';\nimport * as is from './is';\n\nfunction addNS(data: any, children: Array<VNode> | undefined, sel: string | undefined): void {\n  data.ns = 'http://www.w3.org/2000/svg';\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      let childData = children[i].data;\n      if (childData !== undefined) {\n        addNS(childData, (children[i] as VNode).children as Array<VNode>, children[i].sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData): VNode;\nexport function h(sel: string, text: string): VNode;\nexport function h(sel: string, children: Array<VNode | undefined | null>): VNode;\nexport function h(sel: string, data: VNodeData, text: string): VNode;\nexport function h(sel: string, data: VNodeData, children: Array<VNode | undefined | null>): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  var data: VNodeData = {}, children: any, text: any, i: number;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n    else if (c && c.sel) { children = [c]; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else if (b && b.sel) { children = [b]; }\n    else { data = b; }\n  }\n  if (is.array(children)) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = (vnode as any)(undefined, undefined, undefined, children[i]);\n    }\n  }\n  if (\n    sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n    (sel.length === 3 || sel[3] === '.' || sel[3] === '#')\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n};\nexport default h;\n","import {VNode, VNodeData} from './vnode';\nimport {h} from './h';\n\nexport interface ThunkData extends VNodeData {\n  fn: () => VNode;\n  args: Array<any>;\n}\n\nexport interface Thunk extends VNode {\n  data: ThunkData;\n}\n\nexport interface ThunkFn {\n  (sel: string, fn: Function, args: Array<any>): Thunk;\n  (sel: string, key: any, fn: Function, args: Array<any>): Thunk;\n}\n\nfunction copyToThunk(vnode: VNode, thunk: VNode): void {\n  thunk.elm = vnode.elm;\n  (vnode.data as VNodeData).fn = (thunk.data as VNodeData).fn;\n  (vnode.data as VNodeData).args = (thunk.data as VNodeData).args;\n  thunk.data = vnode.data;\n  thunk.children = vnode.children;\n  thunk.text = vnode.text;\n  thunk.elm = vnode.elm;\n}\n\nfunction init(thunk: VNode): void {\n  const cur = thunk.data as VNodeData;\n  const vnode = (cur.fn as any).apply(undefined, cur.args);\n  copyToThunk(vnode, thunk);\n}\n\nfunction prepatch(oldVnode: VNode, thunk: VNode): void {\n  let i: number, old = oldVnode.data as VNodeData, cur = thunk.data as VNodeData;\n  const oldArgs = old.args, args = cur.args;\n  if (old.fn !== cur.fn || (oldArgs as any).length !== (args as any).length) {\n    copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n    return;\n  }\n  for (i = 0; i < (args as any).length; ++i) {\n    if ((oldArgs as any)[i] !== (args as any)[i]) {\n      copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n      return;\n    }\n  }\n  copyToThunk(oldVnode, thunk);\n}\n\nexport const thunk = function thunk(sel: string, key?: any, fn?: any, args?: any): VNode {\n  if (args === undefined) {\n    args = fn;\n    fn = key;\n    key = undefined;\n  }\n  return h(sel, {\n    key: key,\n    hook: {init: init, prepatch: prepatch},\n    fn: fn,\n    args: args\n  });\n} as ThunkFn;\n\nexport default thunk;","/* global module, document, Node */\nimport {Module} from './modules/module';\nimport {Hooks} from './hooks';\nimport vnode, {VNode, VNodeData, Key} from './vnode';\nimport * as is from './is';\nimport htmlDomApi, {DOMAPI} from './htmldomapi';\n\nfunction isUndef(s: any): boolean { return s === undefined; }\nfunction isDef(s: any): boolean { return s !== undefined; }\n\ntype VNodeQueue = Array<VNode>;\n\nconst emptyNode = vnode('', {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1: VNode, vnode2: VNode): boolean {\n  return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\n\nfunction isVnode(vnode: any): vnode is VNode {\n  return vnode.sel !== undefined;\n}\n\ntype KeyToIndexMap = {[key: string]: number};\n\ntype ArraysOf<T> = {\n  [K in keyof T]: (T[K])[];\n}\n\ntype ModuleHooks = ArraysOf<Module>;\n\nfunction createKeyToOldIdx(children: Array<VNode>, beginIdx: number, endIdx: number): KeyToIndexMap {\n  let i: number, map: KeyToIndexMap = {}, key: Key, ch;\n  for (i = beginIdx; i <= endIdx; ++i) {\n    ch = children[i];\n    if (ch != null) {\n      key = ch.key;\n      if (key !== undefined) map[key] = i;\n    }\n  }\n  return map;\n}\n\nconst hooks: (keyof Module)[] = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\nexport {h} from './h';\nexport {thunk} from './thunk';\n\nexport function init(modules: Array<Partial<Module>>, domApi?: DOMAPI) {\n  let i: number, j: number, cbs = ({} as ModuleHooks);\n\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      const hook = modules[j][hooks[i]];\n      if (hook !== undefined) {\n        (cbs[hooks[i]] as Array<any>).push(hook);\n      }\n    }\n  }\n\n  function emptyNodeAt(elm: Element) {\n    const id = elm.id ? '#' + elm.id : '';\n    const c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n    return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n  }\n\n  function createRmCb(childElm: Node, listeners: number) {\n    return function rmCb() {\n      if (--listeners === 0) {\n        const parent = api.parentNode(childElm);\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode: VNode, insertedVnodeQueue: VNodeQueue): Node {\n    let i: any, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) {\n        i(vnode);\n        data = vnode.data;\n      }\n    }\n    let children = vnode.children, sel = vnode.sel;\n    if (sel === '!') {\n      if (isUndef(vnode.text)) {\n        vnode.text = '';\n      }\n      vnode.elm = api.createComment(vnode.text as string);\n    } else if (sel !== undefined) {\n      // Parse selector\n      const hashIdx = sel.indexOf('#');\n      const dotIdx = sel.indexOf('.', hashIdx);\n      const hash = hashIdx > 0 ? hashIdx : sel.length;\n      const dot = dotIdx > 0 ? dotIdx : sel.length;\n      const tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n      const elm = vnode.elm = isDef(data) && isDef(i = (data as VNodeData).ns) ? api.createElementNS(i, tag)\n                                                                               : api.createElement(tag);\n      if (hash < dot) elm.setAttribute('id', sel.slice(hash + 1, dot));\n      if (dotIdx > 0) elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          const ch = children[i];\n          if (ch != null) {\n            api.appendChild(elm, createElm(ch as VNode, insertedVnodeQueue));\n          }\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      i = (vnode.data as VNodeData).hook; // Reuse variable\n      if (isDef(i)) {\n        if (i.create) i.create(emptyNode, vnode);\n        if (i.insert) insertedVnodeQueue.push(vnode);\n      }\n    } else {\n      vnode.elm = api.createTextNode(vnode.text as string);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(parentElm: Node,\n                     before: Node | null,\n                     vnodes: Array<VNode>,\n                     startIdx: number,\n                     endIdx: number,\n                     insertedVnodeQueue: VNodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode: VNode) {\n    let i: any, j: number, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (vnode.children !== undefined) {\n        for (j = 0; j < vnode.children.length; ++j) {\n          i = vnode.children[j];\n          if (i != null && typeof i !== \"string\") {\n            invokeDestroyHook(i);\n          }\n        }\n      }\n    }\n  }\n\n  function removeVnodes(parentElm: Node,\n                        vnodes: Array<VNode>,\n                        startIdx: number,\n                        endIdx: number): void {\n    for (; startIdx <= endIdx; ++startIdx) {\n      let i: any, listeners: number, rm: () => void, ch = vnodes[startIdx];\n      if (ch != null) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm as Node, listeners);\n          for (i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          if (isDef(i = ch.data) && isDef(i = i.hook) && isDef(i = i.remove)) {\n            i(ch, rm);\n          } else {\n            rm();\n          }\n        } else { // Text node\n          api.removeChild(parentElm, ch.elm as Node);\n        }\n      }\n    }\n  }\n\n  function updateChildren(parentElm: Node,\n                          oldCh: Array<VNode>,\n                          newCh: Array<VNode>,\n                          insertedVnodeQueue: VNodeQueue) {\n    let oldStartIdx = 0, newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx: any;\n    let idxInOld: number;\n    let elmToMove: VNode;\n    let before: any;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (oldStartVnode == null) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n      } else if (oldEndVnode == null) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (newStartVnode == null) {\n        newStartVnode = newCh[++newStartIdx];\n      } else if (newEndVnode == null) {\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldStartVnode.elm as Node, api.nextSibling(oldEndVnode.elm as Node));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm as Node, oldStartVnode.elm as Node);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (oldKeyToIdx === undefined) {\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        }\n        idxInOld = oldKeyToIdx[newStartVnode.key as string];\n        if (isUndef(idxInOld)) { // New element\n          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          elmToMove = oldCh[idxInOld];\n          if (elmToMove.sel !== newStartVnode.sel) {\n            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, (elmToMove.elm as Node), oldStartVnode.elm as Node);\n          }\n          newStartVnode = newCh[++newStartIdx];\n        }\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      before = newCh[newEndIdx+1] == null ? null : newCh[newEndIdx+1].elm;\n      addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function patchVnode(oldVnode: VNode, vnode: VNode, insertedVnodeQueue: VNodeQueue) {\n    let i: any, hook: any;\n    if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode);\n    }\n    const elm = vnode.elm = (oldVnode.elm as Node);\n    let oldCh = oldVnode.children;\n    let ch = vnode.children;\n    if (oldVnode === vnode) return;\n    if (vnode.data !== undefined) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);\n      i = vnode.data.hook;\n      if (isDef(i) && isDef(i = i.update)) i(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh as Array<VNode>, ch as Array<VNode>, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, '');\n        addVnodes(elm, null, ch as Array<VNode>, 0, (ch as Array<VNode>).length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      api.setTextContent(elm, vnode.text as string);\n    }\n    if (isDef(hook) && isDef(i = hook.postpatch)) {\n      i(oldVnode, vnode);\n    }\n  }\n\n  return function patch(oldVnode: VNode | Element, vnode: VNode): VNode {\n    let i: number, elm: Node, parent: Node;\n    const insertedVnodeQueue: VNodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (!isVnode(oldVnode)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm as Node;\n      parent = api.parentNode(elm);\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm as Node, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      (((insertedVnodeQueue[i].data as VNodeData).hook as Hooks).insert as any)(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Classes = Record<string, boolean>\n\nfunction updateClass(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm: Element = vnode.elm as Element,\n      oldClass = (oldVnode.data as VNodeData).class,\n      klass = (vnode.data as VNodeData).class;\n\n  if (!oldClass && !klass) return;\n  if (oldClass === klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      (elm.classList as any)[cur ? 'add' : 'remove'](name);\n    }\n  }\n}\n\nexport const classModule = {create: updateClass, update: updateClass} as Module;\nexport default classModule;\n","const booleanAttrs = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"compact\", \"controls\", \"declare\",\n    \"default\", \"defaultchecked\", \"defaultmuted\", \"defaultselected\", \"defer\", \"disabled\", \"draggable\",\n    \"enabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"itemscope\", \"loop\", \"multiple\",\n    \"muted\", \"nohref\", \"noresize\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"pauseonexit\", \"readonly\",\n    \"required\", \"reversed\", \"scoped\", \"seamless\", \"selected\", \"sortable\", \"spellcheck\", \"translate\",\n    \"truespeed\", \"typemustmatch\", \"visible\"\n];\n\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace';\nconst colonChar = 58;\nconst xChar = 120;\nconst booleanAttrsDict = Object.create(null);\n\nfor (let i = 0, len = booleanAttrs.length; i < len; i++) {\n    booleanAttrsDict[booleanAttrs[i]] = true;\n}\n\nfunction updateAttrs(oldVnode, vnode) {\n    let key;\n    let elm = vnode.elm;\n    let oldAttrs = oldVnode.data.attrs;\n    let attrs = vnode.data.attrs;\n\n    if ((!oldAttrs && !attrs) || (oldAttrs === attrs)) {\n        return;\n    }\n\n    oldAttrs = oldAttrs || {};\n\n    attrs = attrs || {};\n\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        let cur = attrs[key];\n        let old = oldAttrs[key];\n\n        if (old !== cur) {\n            if (booleanAttrsDict[key]) {\n                if (cur) {\n                    elm.setAttribute(key, '');\n                } else {\n                    elm.removeAttribute(key);\n                }\n            } else {\n                if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                } else if (key.charCodeAt(3) === colonChar) {\n                    // Assume xml namespace\n                    elm.setAttributeNS(xmlNS, key, cur);\n                } else if (key.charCodeAt(5) === colonChar) {\n                    // Assume xlink namespace\n                    elm.setAttributeNS(xlinkNS, key, cur);\n                } else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    // remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexport default { create: updateAttrs, update: updateAttrs };\n","function updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexport default { create: updateProps, update: updateProps };\n\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Hero = { id: string }\n\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function(fn: any) { raf(function() { raf(fn); }); };\n\nfunction setNextFrame(obj: any, prop: string, val: any): void {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction getTextNodeRect(textNode: Text): ClientRect | undefined {\n  var rect: ClientRect | undefined;\n  if (document.createRange) {\n    var range = document.createRange();\n    range.selectNodeContents(textNode);\n    if (range.getBoundingClientRect) {\n        rect = range.getBoundingClientRect();\n    }\n  }\n  return rect;\n}\n\nfunction calcTransformOrigin(isTextNode: boolean,\n                             textRect: ClientRect | undefined,\n                             boundingRect: ClientRect): string {\n  if (isTextNode) {\n    if (textRect) {\n      //calculate pixels to center of text from left edge of bounding box\n      var relativeCenterX = textRect.left + textRect.width/2 - boundingRect.left;\n      var relativeCenterY = textRect.top + textRect.height/2 - boundingRect.top;\n      return relativeCenterX + 'px ' + relativeCenterY + 'px';\n    }\n  }\n  return '0 0'; //top left\n}\n\nfunction getTextDx(oldTextRect: ClientRect | undefined,\n                   newTextRect: ClientRect | undefined): number {\n  if (oldTextRect && newTextRect) {\n    return ((oldTextRect.left + oldTextRect.width/2) - (newTextRect.left + newTextRect.width/2));\n  }\n  return 0;\n}\nfunction getTextDy(oldTextRect: ClientRect | undefined,\n                   newTextRect: ClientRect | undefined): number {\n  if (oldTextRect && newTextRect) {\n    return ((oldTextRect.top + oldTextRect.height/2) - (newTextRect.top + newTextRect.height/2));\n  }\n  return 0;\n}\n\nfunction isTextElement(elm: Element | Text): elm is Text {\n  return elm.childNodes.length === 1 && elm.childNodes[0].nodeType === 3;\n}\n\nvar removed: any, created: any;\n\nfunction pre() {\n  removed = {};\n  created = [];\n}\n\nfunction create(oldVnode: VNode, vnode: VNode): void {\n  var hero = (vnode.data as VNodeData).hero;\n  if (hero && hero.id) {\n    created.push(hero.id);\n    created.push(vnode);\n  }\n}\n\nfunction destroy(vnode: VNode): void {\n  var hero = (vnode.data as VNodeData).hero;\n  if (hero && hero.id) {\n    var elm = vnode.elm;\n    (vnode as any).isTextNode = isTextElement(elm as Element | Text); //is this a text node?\n    (vnode as any).boundingRect = (elm as Element).getBoundingClientRect(); //save the bounding rectangle to a new property on the vnode\n    (vnode as any).textRect = (vnode as any).isTextNode ? getTextNodeRect((elm as Element).childNodes[0] as Text) : null; //save bounding rect of inner text node\n    var computedStyle = window.getComputedStyle(elm as Element, void 0); //get current styles (includes inherited properties)\n    (vnode as any).savedStyle = JSON.parse(JSON.stringify(computedStyle)); //save a copy of computed style values\n    removed[hero.id] = vnode;\n  }\n}\n\nfunction post() {\n  var i: number, id: any, newElm: Element, oldVnode: VNode, oldElm: Element,\n      hRatio: number, wRatio: number,\n      oldRect: ClientRect, newRect: ClientRect, dx: number, dy: number,\n      origTransform: string | null, origTransition: string | null,\n      newStyle: CSSStyleDeclaration, oldStyle: CSSStyleDeclaration,\n      newComputedStyle: CSSStyleDeclaration, isTextNode: boolean,\n      newTextRect: ClientRect | undefined, oldTextRect: ClientRect | undefined;\n  for (i = 0; i < created.length; i += 2) {\n    id = created[i];\n    newElm = created[i+1].elm;\n    oldVnode = removed[id];\n    if (oldVnode) {\n      isTextNode = (oldVnode as any).isTextNode && isTextElement(newElm); //Are old & new both text?\n      newStyle = (newElm as HTMLElement).style;\n      newComputedStyle = window.getComputedStyle(newElm, void 0); //get full computed style for new element\n      oldElm = oldVnode.elm as Element;\n      oldStyle = (oldElm as HTMLElement).style;\n      //Overall element bounding boxes\n      newRect = newElm.getBoundingClientRect();\n      oldRect = (oldVnode as any).boundingRect; //previously saved bounding rect\n      //Text node bounding boxes & distances\n      if (isTextNode) {\n        newTextRect = getTextNodeRect(newElm.childNodes[0] as Text);\n        oldTextRect = (oldVnode as any).textRect;\n        dx = getTextDx(oldTextRect, newTextRect);\n        dy = getTextDy(oldTextRect, newTextRect);\n      } else {\n        //Calculate distances between old & new positions\n        dx = oldRect.left - newRect.left;\n        dy = oldRect.top - newRect.top;\n      }\n      hRatio = newRect.height / (Math.max(oldRect.height, 1));\n      wRatio = isTextNode ? hRatio : newRect.width / (Math.max(oldRect.width, 1)); //text scales based on hRatio\n      // Animate new element\n      origTransform = newStyle.transform;\n      origTransition = newStyle.transition;\n      if (newComputedStyle.display === 'inline') //inline elements cannot be transformed\n        newStyle.display = 'inline-block';        //this does not appear to have any negative side effects\n      newStyle.transition = origTransition + 'transform 0s';\n      newStyle.transformOrigin = calcTransformOrigin(isTextNode, newTextRect, newRect);\n      newStyle.opacity = '0';\n      newStyle.transform = origTransform + 'translate('+dx+'px, '+dy+'px) ' +\n                               'scale('+1/wRatio+', '+1/hRatio+')';\n      setNextFrame(newStyle, 'transition', origTransition);\n      setNextFrame(newStyle, 'transform', origTransform);\n      setNextFrame(newStyle, 'opacity', '1');\n      // Animate old element\n      for (var key in (oldVnode as any).savedStyle) { //re-apply saved inherited properties\n        if (parseInt(key) != key as any as number) {\n          var ms = key.substring(0,2) === 'ms';\n          var moz = key.substring(0,3) === 'moz';\n          var webkit = key.substring(0,6) === 'webkit';\n          if (!ms && !moz && !webkit) //ignore prefixed style properties\n            (oldStyle as any)[key] = (oldVnode as any).savedStyle[key];\n        }\n      }\n      oldStyle.position = 'absolute';\n      oldStyle.top = oldRect.top + 'px'; //start at existing position\n      oldStyle.left = oldRect.left + 'px';\n      oldStyle.width = oldRect.width + 'px'; //Needed for elements who were sized relative to their parents\n      oldStyle.height = oldRect.height + 'px'; //Needed for elements who were sized relative to their parents\n      oldStyle.margin = '0'; //Margin on hero element leads to incorrect positioning\n      oldStyle.transformOrigin = calcTransformOrigin(isTextNode, oldTextRect, oldRect);\n      oldStyle.transform = '';\n      oldStyle.opacity = '1';\n      document.body.appendChild(oldElm);\n      setNextFrame(oldStyle, 'transform', 'translate('+ -dx +'px, '+ -dy +'px) scale('+wRatio+', '+hRatio+')'); //scale must be on far right for translate to be correct\n      setNextFrame(oldStyle, 'opacity', '0');\n      oldElm.addEventListener('transitionend', function (ev: TransitionEvent) {\n        if (ev.propertyName === 'transform')\n          document.body.removeChild(ev.target as Node);\n      });\n    }\n  }\n  removed = created = undefined;\n}\n\nexport const heroModule = {pre, create, destroy, post} as Module;\nexport default heroModule;","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type VNodeStyle = Record<string, string> & {\n  delayed?: Record<string, string>\n  remove?: Record<string, string>\n}\n\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function(fn: any) { raf(function() { raf(fn); }); };\n\nfunction setNextFrame(obj: any, prop: string, val: any): void {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction updateStyle(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm = vnode.elm,\n      oldStyle = (oldVnode.data as VNodeData).style,\n      style = (vnode.data as VNodeData).style;\n\n  if (!oldStyle && !style) return;\n  if (oldStyle === style) return;\n  oldStyle = oldStyle || {} as VNodeStyle;\n  style = style || {} as VNodeStyle;\n  var oldHasDel = 'delayed' in oldStyle;\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.removeProperty(name);\n      } else {\n        (elm as any).style[name] = '';\n      }\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    if (name === 'delayed' && style.delayed) {\n      for (let name2 in style.delayed) {\n        cur = style.delayed[name2];\n        if (!oldHasDel || cur !== (oldStyle.delayed as any)[name2]) {\n          setNextFrame((elm as any).style, name2, cur);\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.setProperty(name, cur);\n      } else {\n        (elm as any).style[name] = cur;\n      }\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode: VNode): void {\n  var style: any, name: string, elm = vnode.elm, s = (vnode.data as VNodeData).style;\n  if (!s || !(style = s.destroy)) return;\n  for (name in style) {\n    (elm as any).style[name] = style[name];\n  }\n}\n\nfunction applyRemoveStyle(vnode: VNode, rm: () => void): void {\n  var s = (vnode.data as VNodeData).style;\n  if (!s || !s.remove) {\n    rm();\n    return;\n  }\n  var name: string, elm = vnode.elm, i = 0, compStyle: CSSStyleDeclaration,\n      style = s.remove, amount = 0, applied: Array<string> = [];\n  for (name in style) {\n    applied.push(name);\n    (elm as any).style[name] = style[name];\n  }\n  compStyle = getComputedStyle(elm as Element);\n  var props = (compStyle as any)['transition-property'].split(', ');\n  for (; i < props.length; ++i) {\n    if(applied.indexOf(props[i]) !== -1) amount++;\n  }\n  (elm as Element).addEventListener('transitionend', function (ev: TransitionEvent) {\n    if (ev.target === elm) --amount;\n    if (amount === 0) rm();\n  });\n}\n\nexport const styleModule = {\n  create: updateStyle,\n  update: updateStyle,\n  destroy: applyDestroyStyle,\n  remove: applyRemoveStyle\n} as Module;\nexport default styleModule;\n","\"use strict\";\nfunction invokeHandler(handler, vnode, event) {\n    if (typeof handler === \"function\") {\n        // call function handler\n        handler.call(vnode, event, vnode);\n    }\n    else if (typeof handler === \"object\") {\n        // call handler with arguments\n        if (typeof handler[0] === \"function\") {\n            // special case for single argument for performance\n            if (handler.length === 2) {\n                handler[0].call(vnode, handler[1], event, vnode);\n            }\n            else {\n                var args = handler.slice(1);\n                args.push(event);\n                args.push(vnode);\n                handler[0].apply(vnode, args);\n            }\n        }\n        else {\n            // call multiple handlers\n            for (var i = 0; i < handler.length; i++) {\n                invokeHandler(handler[i]);\n            }\n        }\n    }\n}\nfunction handleEvent(event, vnode) {\n    var name = event.type, on = vnode.data.on;\n    // call event handler(s) if exists\n    if (on && on[name]) {\n        invokeHandler(on[name], vnode, event);\n    }\n}\nfunction createListener() {\n    return function handler(event) {\n        handleEvent(event, handler.vnode);\n    };\n}\nfunction updateEventListeners(oldVnode, vnode) {\n    var oldOn = oldVnode.data.on, oldListener = oldVnode.listener, oldElm = oldVnode.elm, on = vnode && vnode.data.on, elm = (vnode && vnode.elm), name;\n    // optimization for reused immutable handlers\n    if (oldOn === on) {\n        return;\n    }\n    // remove existing listeners which no longer used\n    if (oldOn && oldListener) {\n        // if element changed or deleted we remove all existing listeners unconditionally\n        if (!on) {\n            for (name in oldOn) {\n                // remove listener if element was changed or existing listeners removed\n                oldElm.removeEventListener(name, oldListener, false);\n            }\n        }\n        else {\n            for (name in oldOn) {\n                // remove listener if existing listener removed\n                if (!on[name]) {\n                    oldElm.removeEventListener(name, oldListener, false);\n                }\n            }\n        }\n    }\n    // add new listeners which has not already attached\n    if (on) {\n        // reuse existing listener or create new\n        var listener = vnode.listener = oldVnode.listener || createListener();\n        // update vnode for listener\n        listener.vnode = vnode;\n        // if element changed or added we add all needed listeners unconditionally\n        if (!oldOn) {\n            for (name in on) {\n                // add listener if element was changed or new listeners added\n                elm.addEventListener(name, listener, false);\n            }\n        }\n        else {\n            for (name in on) {\n                // add listener if new listener added\n                if (!oldOn[name]) {\n                    elm.addEventListener(name, listener, false);\n                }\n            }\n        }\n    }\n}\nconst eventListenersModule = {\n    create: updateEventListeners,\n    update: updateEventListeners,\n    destroy: updateEventListeners\n};\nexport default eventListenersModule;\n","import vnode from '../libs/vnode';\nimport isPlaneObject from '../libs/is-plane-object';\nimport { init } from 'snabbdom';\nimport { classModule } from 'snabbdom/modules/class';\nimport attributes from './attributes';\nimport props from './props';\nimport { heroModule } from 'snabbdom/modules/hero';\nimport { styleModule } from 'snabbdom/modules/style';\nimport eventListenersModule from '../libs/eventlisteners';\n\n\n\n\n    console.log('vnode', vnode)\n\nfunction isPrimitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\n\n\nfunction isArray(val) {\n    return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nconst attributeType = [\n    'event',\n    'e',\n    'props',\n    'p',\n    'style',\n    '$',\n    'dataset',\n    'd',\n    'href',\n    'placeholder',\n    'autofocus',\n    'type',\n    'for',\n    'checked',\n    'value'\n];\n\n\nconst attributeHas = (key, prop) => prop.some(attribute => key.indexOf(attributeHas) >= 0);\n\nconst assembly = (tagName) => {\n    return function inner(...args) {\n        let sel = `${tagName}`;\n        let selectorName = tagName;\n        let attributes = { attrs: {}, props: {} };\n        let item;\n        let textNode;\n        let childNodes = [];\n        let i;\n        let children;\n        let text;\n\n\n        for (i = 0; i < args.length; i++) {\n            item = args[i] || {};\n            let isItemObject = isPlaneObject(item);\n            let isItemVnode = item.hasOwnProperty('sel');\n\n            // Check if item is a plane object = attribute.\n            if (isItemObject && !isItemVnode) {\n                let isSelector = false;\n                const attrKeys = Object.keys(item);\n\n                // if (item.hasOwnProperty('id') || item.hasOwnProperty('#')) {\n                if (item.hasOwnProperty('id') || item.hasOwnProperty('#')) {\n                    selectorName += '#' + item.id;\n                    isSelector = true;\n                }\n                if (item.hasOwnProperty('class') || item.hasOwnProperty('.')) {\n                    selectorName += '.' + item.class;\n                    isSelector = true;\n                }\n\n                attrKeys.forEach((key) => {\n                    // console.log(key)\n                    if (['id', '#', 'class', '.'].indexOf(key) < 0) {\n                        if (attributeType.indexOf(key) >= 0) {\n                            switch (key) {\n                                case 'e':\n                                case 'event':\n                                    attributes.on = item[key];\n                                    break;\n                                case 'p':\n                                    attributes.props = item[key];\n                                    break;\n                                case '$':\n                                    attributes.style = item[key];\n                                    break;\n                                case 'd':\n                                    attributes.dataset = item[key];\n                                    break;\n                                case 'href':\n                                case 'placeholder':\n                                case 'autofocus':\n                                case 'type':\n                                case 'checked':\n                                case 'value':\n                                    attributes.props[key] = item[key];\n                                    break;\n                                case 'for':\n                                    attributes.props.htmlFor = item[key];\n                                default:\n                                    attributes[key] = item[key];\n                            }\n\n                        } else {\n                            attributes.attrs[key] = item[key];\n                        }\n                    }\n                });\n                continue;\n            }\n\n            // Check if item is an array = group of child elements.\n            if (Array.isArray(item)) {\n                childNodes = [...childNodes, ...item];\n                continue;\n            }\n\n            // check if item is not an object, array or function = child element.\n            if (isItemObject && isItemVnode || isPrimitive) {\n                childNodes.push(item);\n                continue;\n            }\n        }\n\n        for (i = 0; i < childNodes.length; ++i) {\n            if (isPrimitive(childNodes[i])) {\n                childNodes[i] = vnode(undefined, undefined, undefined, childNodes[i]);\n            }\n        }\n\n        if (selectorName[0] === 's' && selectorName[1] === 'v' && selectorName[2] === 'g' &&\n            (selectorName.length === 3 || selectorName[3] === '.' || selectorName[3] === '#')) {\n            addNS(attributes, childNodes, selectorName);\n        }\n\n        return vnode(selectorName, attributes, childNodes, text, undefined);\n    }\n}\n\n\n\n// HTML Elements.\nexport const a = assembly('a');\nexport const abbr = assembly('abbr');\nexport const address = assembly('address');\nexport const area = assembly('area');\nexport const article = assembly('article');\nexport const aside = assembly('aside');\nexport const audio = assembly('audio');\nexport const childNodes = assembly('childNodes');\nexport const base = assembly('base');\nexport const bdi = assembly('bdi');\nexport const bdo = assembly('bdo');\nexport const blockquote = assembly('blockquote');\nexport const body = assembly('body');\nexport const br = assembly('br');\nexport const button = assembly('button');\nexport const canvas = assembly('canvas');\nexport const caption = assembly('caption');\nexport const cite = assembly('cite');\nexport const code = assembly('code');\nexport const col = assembly('col');\nexport const colgroup = assembly('colgroup');\nexport const command = assembly('command');\nexport const dd = assembly('dd');\nexport const del = assembly('del');\nexport const dfn = assembly('dfn');\nexport const div = assembly('DIV');\nexport const dl = assembly('dl');\nexport const doctype = assembly('doctype');\nexport const dt = assembly('dt');\nexport const em = assembly('em');\nexport const embed = assembly('embed');\nexport const fieldset = assembly('fieldset');\nexport const figcaption = assembly('figcaption');\nexport const figure = assembly('figure');\nexport const footer = assembly('footer');\nexport const form = assembly('form');\nexport const h1 = assembly('h1');\nexport const h2 = assembly('h2');\nexport const h3 = assembly('h3');\nexport const h4 = assembly('h4');\nexport const h5 = assembly('h5');\nexport const h6 = assembly('h6');\nexport const header = assembly('header');\nexport const hgroup = assembly('hgroup');\nexport const hr = assembly('hr');\nexport const html = assembly('html');\nexport const i = assembly('i');\nexport const iframe = assembly('iframe');\nexport const img = assembly('img');\nexport const input = assembly('input');\nexport const ins = assembly('ins');\nexport const kbd = assembly('kbd');\nexport const keygen = assembly('keygen');\nexport const label = assembly('label');\nexport const legend = assembly('legend');\nexport const li = assembly('li');\nexport const link = assembly('link');\nexport const map = assembly('map');\nexport const mark = assembly('mark');\nexport const menu = assembly('menu');\nexport const meta = assembly('meta');\nexport const nav = assembly('nav');\nexport const noscript = assembly('noscript');\nexport const object = assembly('object');\nexport const ol = assembly('ol');\nexport const optgroup = assembly('optgroup');\nexport const option = assembly('option');\nexport const p = assembly('p');\nexport const param = assembly('param');\nexport const pre = assembly('pre');\nexport const progress = assembly('progress');\nexport const q = assembly('q');\nexport const rp = assembly('rp');\nexport const rt = assembly('rt');\nexport const ruby = assembly('ruby');\nexport const s = assembly('s');\nexport const samp = assembly('samp');\nexport const script = assembly('script');\nexport const section = assembly('section');\nexport const select = assembly('select');\nexport const small = assembly('small');\nexport const source = assembly('source');\nexport const span = assembly('span');\nexport const strong = assembly('strong');\nexport const style = assembly('style');\nexport const sub = assembly('sub');\nexport const sup = assembly('sup');\nexport const table = assembly('table');\nexport const tbody = assembly('tbody');\nexport const td = assembly('td');\nexport const textarea = assembly('textarea');\nexport const tfoot = assembly('tfoot');\nexport const th = assembly('th');\nexport const thead = assembly('thead');\nexport const title = assembly('title');\nexport const tr = assembly('tr');\nexport const ul = assembly('ul');\nexport const v = assembly('var');\nexport const video = assembly('video');\n\n\n// Render API\nexport const patch = init([\n    classModule,\n    props,\n    attributes,\n    heroModule,\n    styleModule,\n    eventListenersModule\n]);\n"],"names":["vnode","sel","data","children","text","elm","key","undefined","objectTag","freeGlobal","global","Object","freeSelf","self","root","Function","overArg","func","transform","arg","funcProto","prototype","objectProto","funcToString","toString","hasOwnProperty","objectCtorString","call","objectToString","getPrototype","getPrototypeOf","isObjectLike","value","isPlainObject","proto","Ctor","constructor","lodash","htmldomapi_1","booleanAttrs","xlinkNS","xmlNS","colonChar","xChar","booleanAttrsDict","create","i","len","length","updateAttrs","oldVnode","oldAttrs","attrs","cur","old","setAttribute","removeAttribute","charCodeAt","setAttributeNS","update","updateProps","oldProps","props","invokeHandler","handler","event","args","slice","push","apply","handleEvent","name","type","on","createListener","updateEventListeners","oldOn","oldListener","listener","oldElm","removeEventListener","addEventListener","eventListenersModule","console","log","isPrimitive","s","addNS","ns","childData","attributeType","assembly","tagName","inner","selectorName","attributes","item","textNode","childNodes","isItemObject","isPlaneObject","isItemVnode","isSelector","attrKeys","keys","id","class","forEach","indexOf","style","dataset","htmlFor","Array","isArray","a","abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","dd","del","dfn","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","samp","script","section","select","small","source","span","strong","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","ul","v","video","patch","init","classModule","heroModule","styleModule"],"mappings":"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"}